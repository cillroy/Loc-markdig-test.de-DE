---
title: "Microsoft Intune App SDK für iOS –Entwicklerhandbuch"
description: "Mit dem Microsoft Intune App SDK für iOS können Sie die Intune-App-Schutzrichtlinien in Form von Mobile App Management (MAM) in Ihre iOS-App integrieren."
keywords: 
author: erikre
manager: angrobe
ms.author: erikre
ms.date: 11/10/2017
ms.topic: article
ms.prod: 
ms.service: microsoft-intune
ms.technology: 
ms.assetid: 8e280d23-2a25-4a84-9bcb-210b30c63c0b
ms.reviewer: oydang
ms.suite: ems
ms.custom: intune-classic
ms.openlocfilehash: 18452b712b751da8a86ea957b2e9fd1be1e4316d
ms.sourcegitcommit: 2459bfda07a2afd2cfcd94a1972a3fb2e565ce8d
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/22/2018
---
# <a name="microsoft-intune-app-sdk-for-ios-developer-guide"></a><span data-ttu-id="479af-103">Entwicklerhandbuch für Microsoft Intune App SDK für iOS</span><span class="sxs-lookup"><span data-stu-id="479af-103">Microsoft Intune App SDK for iOS developer guide</span></span>

> [!NOTE]
> <span data-ttu-id="479af-104">Lesen Sie am besten zuerst den Artikel [Erste Schritte mit dem Intune App SDK](app-sdk-get-started.md). Darin finden Sie Informationen, welche Vorbereitungen Sie für die Integration auf jeder unterstützten Plattform treffen müssen.</span><span class="sxs-lookup"><span data-stu-id="479af-104">You might want to first read the [Get Started with Intune App SDK Guide](app-sdk-get-started.md) article, which explains how to prepare for integration on each supported platform.</span></span>

<span data-ttu-id="479af-105">Mit dem Microsoft Intune App SDK für iOS können Sie die Intune-App-Schutzrichtlinien (auch als **APP**- oder **MAM-Richtlinien** bezeichnet) in Ihre native iOS-App integrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-105">The Microsoft Intune App SDK for iOS lets you incorporate Intune app protection policies (also known as **APP** or **MAM policies**) into your native iOS app.</span></span> <span data-ttu-id="479af-106">Als MAM-fähige App wird eine App bezeichnet, die in das Intune App SDK integriert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-106">A MAM-enabled application is one that is integrated with the Intune App SDK.</span></span> <span data-ttu-id="479af-107">Sie ermöglichen IT-Administratoren, App-Schutzrichtlinien für Ihre mobile App bereitzustellen, wenn diese aktiv von Intune verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="479af-107">IT administrators can deploy app protection policies to your mobile app when Intune actively manages the app.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="479af-108">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="479af-108">Prerequisites</span></span>

* <span data-ttu-id="479af-109">Sie benötigen einen Mac OS-Computer, auf dem OS X 10.8.5 oder höher ausgeführt wird, und auf dem Xcode 8 oder höher installiert hat.</span><span class="sxs-lookup"><span data-stu-id="479af-109">You will need a Mac OS computer that runs OS X 10.8.5 or later and has the Xcode 8 or later installed.</span></span>

* <span data-ttu-id="479af-110">Ihre App muss für iOS 9 oder höher vorgesehen sein.</span><span class="sxs-lookup"><span data-stu-id="479af-110">Your app must be targeted for iOS 9 or above.</span></span>

* <span data-ttu-id="479af-111">Lesen Sie [die Lizenzbedingungen für das Intune App SDK für iOS (in englischer Sprache)](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios/blob/master/Microsoft%20License%20Terms%20Intune%20App%20SDK%20for%20iOS%20.pdf).</span><span class="sxs-lookup"><span data-stu-id="479af-111">Review the [Intune App SDK for iOS License Terms](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios/blob/master/Microsoft%20License%20Terms%20Intune%20App%20SDK%20for%20iOS%20.pdf).</span></span> <span data-ttu-id="479af-112">Drucken Sie sich eine Kopie der Lizenzbedingungen aus und bewahren Sie diese in Ihren Unterlagen auf.</span><span class="sxs-lookup"><span data-stu-id="479af-112">Print and retain a copy of the license terms for your records.</span></span> <span data-ttu-id="479af-113">Indem Sie das Intune App SDK für iOS herunterladen und verwenden, stimmen Sie diesen Lizenzbestimmungen zu.</span><span class="sxs-lookup"><span data-stu-id="479af-113">By downloading and using the Intune App SDK for iOS, you agree to such license terms.</span></span>  <span data-ttu-id="479af-114">Wenn Sie den Lizenzbedingungen nicht zustimmen, verwenden Sie die Software nicht.</span><span class="sxs-lookup"><span data-stu-id="479af-114">If you do not accept them, do not use the software.</span></span>

* <span data-ttu-id="479af-115">Laden Sie die Dateien für das Intune App SDK für iOS von [GitHub](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios) herunter.</span><span class="sxs-lookup"><span data-stu-id="479af-115">Download the files for the Intune App SDK for iOS on [GitHub](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios).</span></span>

## <a name="whats-in-the-sdk"></a><span data-ttu-id="479af-116">Inhalt des SDK</span><span class="sxs-lookup"><span data-stu-id="479af-116">What’s in the SDK</span></span>

<span data-ttu-id="479af-117">Das Intune App SDK für iOS enthält eine statische Bibliothek, Ressourcendateien, API-Header, eine PLIST-Datei Liste mit Debug-Einstellungen sowie ein Konfigurationstool.</span><span class="sxs-lookup"><span data-stu-id="479af-117">The Intune App SDK for iOS includes a static library, resource files, API headers, a debug settings .plist file, and a configurator tool.</span></span> <span data-ttu-id="479af-118">Mobile Apps können einfach nur die Ressourcendateien enthalten und statisch mit den Bibliotheken verknüpft sein, um die meisten Richtlinien durchzusetzen.</span><span class="sxs-lookup"><span data-stu-id="479af-118">Mobile apps might simply include the resource files and statically link to the libraries for most policy enforcement.</span></span> <span data-ttu-id="479af-119">Erweiterte Intune-MAM-Funktionen werden mithilfe von APIs erzwungen.</span><span class="sxs-lookup"><span data-stu-id="479af-119">Advanced Intune MAM features are enforced through APIs.</span></span>

<span data-ttu-id="479af-120">Dieses Handbuch befasst sich mit der Verwendung der folgenden Komponenten des Intune App SDK für iOS:</span><span class="sxs-lookup"><span data-stu-id="479af-120">This guide covers the use of the following components of the Intune App SDK for iOS:</span></span>

* <span data-ttu-id="479af-121">**libIntuneMAM.a**: Die statische Intune App SDK-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="479af-121">**libIntuneMAM.a**: The Intune App SDK static library.</span></span> <span data-ttu-id="479af-122">Wenn Ihre App keine Extensions verwendet, können Sie diese Bibliothek mit Ihrem Projekt verknüpfen, um die App für die mobile Anwendungsverwaltung mit Intune zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="479af-122">If your app does not use extensions, link this library to your project to enable your app for Intune mobile application management.</span></span>

* <span data-ttu-id="479af-123">**IntuneMAM.framework**: Das Intune App SDK-Framework.</span><span class="sxs-lookup"><span data-stu-id="479af-123">**IntuneMAM.framework**: The Intune App SDK framework.</span></span> <span data-ttu-id="479af-124">Verknüpfen Sie dieses Framework mit Ihrem Projekt, um die App für die mobile Anwendungsverwaltung mit Intune zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="479af-124">Link this framework to your project to enable your app for Intune mobile application management.</span></span> <span data-ttu-id="479af-125">Verwenden Sie das Framework anstelle der statischen Bibliothek, wenn in Ihrer App Erweiterungen verwendet werden, damit Ihr Projekt nicht mehrere Kopien der statischen Bibliothek erstellt.</span><span class="sxs-lookup"><span data-stu-id="479af-125">Use the framework instead of the static library if your app uses extensions, so that your project does not create multiple copies of the static library.</span></span>

* <span data-ttu-id="479af-126">**IntuneMAMResources.Bundle**: Ein Ressourcenpaket, das die Ressourcen für das SDK enthält.</span><span class="sxs-lookup"><span data-stu-id="479af-126">**IntuneMAMResources.bundle**: A resource bundle that has resources that the SDK relies on.</span></span>

* <span data-ttu-id="479af-127">**Headers**: Stellt die Intune App SDK-APIs bereit.</span><span class="sxs-lookup"><span data-stu-id="479af-127">**Headers**: Exposes the Intune App SDK APIs.</span></span> <span data-ttu-id="479af-128">Wenn Sie eine API verwenden, müssen Sie die Headerdatei einschließen, die die API enthält.</span><span class="sxs-lookup"><span data-stu-id="479af-128">If you use an API, you will need to include the header file that contains the API.</span></span> <span data-ttu-id="479af-129">Die folgenden Headerdateien enthalten die APIs, die Datentypen und die Protokolle, die vom Intune App SDK für Entwickler zur Verfügung gestellt wurden:</span><span class="sxs-lookup"><span data-stu-id="479af-129">The following header files include the APIs, data types, and protocols which the Intune App SDK makes available to developers:</span></span>

    * <span data-ttu-id="479af-130">IntuneMAMAppConfig.h</span><span class="sxs-lookup"><span data-stu-id="479af-130">IntuneMAMAppConfig.h</span></span>
    * <span data-ttu-id="479af-131">IntuneMAMAppConfigManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-131">IntuneMAMAppConfigManager.h</span></span>
    * <span data-ttu-id="479af-132">IntuneMAMDataProtectionInfo.h</span><span class="sxs-lookup"><span data-stu-id="479af-132">IntuneMAMDataProtectionInfo.h</span></span>
    * <span data-ttu-id="479af-133">IntuneMAMDataProtectionManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-133">IntuneMAMDataProtectionManager.h</span></span>
    * <span data-ttu-id="479af-134">IntuneMAMDefs.h</span><span class="sxs-lookup"><span data-stu-id="479af-134">IntuneMAMDefs.h</span></span>
    * <span data-ttu-id="479af-135">IntuneMAMEnrollmentDelegate.h</span><span class="sxs-lookup"><span data-stu-id="479af-135">IntuneMAMEnrollmentDelegate.h</span></span>
    * <span data-ttu-id="479af-136">IntuneMAMEnrollmentManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-136">IntuneMAMEnrollmentManager.h</span></span>
    * <span data-ttu-id="479af-137">IntuneMAMEnrollmentStatus.h</span><span class="sxs-lookup"><span data-stu-id="479af-137">IntuneMAMEnrollmentStatus.h</span></span>
    * <span data-ttu-id="479af-138">IntuneMAMFileProtectionInfo.h</span><span class="sxs-lookup"><span data-stu-id="479af-138">IntuneMAMFileProtectionInfo.h</span></span>
    * <span data-ttu-id="479af-139">IntuneMAMFileProtectionManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-139">IntuneMAMFileProtectionManager.h</span></span>
    * <span data-ttu-id="479af-140">IntuneMAMLogger.h</span><span class="sxs-lookup"><span data-stu-id="479af-140">IntuneMAMLogger.h</span></span>
    * <span data-ttu-id="479af-141">IntuneMAMPolicy.h</span><span class="sxs-lookup"><span data-stu-id="479af-141">IntuneMAMPolicy.h</span></span>
    * <span data-ttu-id="479af-142">IntuneMAMPolicyDelegate.h</span><span class="sxs-lookup"><span data-stu-id="479af-142">IntuneMAMPolicyDelegate.h</span></span>
    * <span data-ttu-id="479af-143">IntuneMAMPolicyManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-143">IntuneMAMPolicyManager.h</span></span>
    * <span data-ttu-id="479af-144">IntuneMAMVersionInfo.h</span><span class="sxs-lookup"><span data-stu-id="479af-144">IntuneMAMVersionInfo.h</span></span>
    
<span data-ttu-id="479af-145">Entwickler können die Inhalte aller oben stehenden Header verfügbar machen, indem sie nur IntuneMAM.h importieren.</span><span class="sxs-lookup"><span data-stu-id="479af-145">Developers can make the contents of all the above headers available by just importing IntuneMAM.h</span></span>


## <a name="how-the-intune-app-sdk-works"></a><span data-ttu-id="479af-146">Funktionsweise des Intune App SDK</span><span class="sxs-lookup"><span data-stu-id="479af-146">How the Intune App SDK works</span></span>

<span data-ttu-id="479af-147">Ziel des Intune App SDK für iOS ist es, iOS-Anwendungen mit minimalen Codeänderungen mit Verwaltungsfunktionen zu versehen.</span><span class="sxs-lookup"><span data-stu-id="479af-147">The objective of the Intune App SDK for iOS is to add management capabilities to iOS applications with minimal code changes.</span></span> <span data-ttu-id="479af-148">Möglichst wenige Codeänderungen bedeuten kürzere Markteinführungszeiten, ohne die Konsistenz und Stabilität Ihrer mobilen Anwendung zu beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="479af-148">The fewer the code changes, the less time to market--without affecting the consistency and stability of your mobile application.</span></span>


## <a name="build-the-sdk-into-your-mobile-app"></a><span data-ttu-id="479af-149">Integrieren des SDK in Ihre mobile App</span><span class="sxs-lookup"><span data-stu-id="479af-149">Build the SDK into your mobile app</span></span>

<span data-ttu-id="479af-150">Führen Sie die folgenden Schritte aus, um das Intune App SDK zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="479af-150">To enable the Intune App SDK, follow these steps:</span></span>

1. <span data-ttu-id="479af-151">**Option 1 (empfohlen)**: Verknüpfen Sie `IntuneMAM.framework` mit Ihrem Projekt.</span><span class="sxs-lookup"><span data-stu-id="479af-151">**Option 1 (recommended)**: Link `IntuneMAM.framework` to your project.</span></span> <span data-ttu-id="479af-152">Ziehen Sie `IntuneMAM.framework` in die Liste für **eingebettete Binärdateien** des Projektziels.</span><span class="sxs-lookup"><span data-stu-id="479af-152">Drag `IntuneMAM.framework` to the **Embedded Binaries** list of the project target.</span></span>

    > [!NOTE]
    > <span data-ttu-id="479af-153">Bei Verwendung des Frameworks müssen Sie die Simulatorarchitekturen manuell aus dem universellen Framework entfernen, bevor Sie Ihre App an den App Store übermitteln.</span><span class="sxs-lookup"><span data-stu-id="479af-153">If you use the framework, you must manually strip out the simulator architectures from the universal framework before you submit your app to the App Store.</span></span> <span data-ttu-id="479af-154">Weitere Informationen siehe [Übermitteln Ihrer App an den App Store](#Submit-your-app-to-the-App-Store).</span><span class="sxs-lookup"><span data-stu-id="479af-154">See [Submit your app to the App Store](#Submit-your-app-to-the-App-Store) for more details.</span></span>

2. <span data-ttu-id="479af-155">**Option 2**: Stellen Sie eine Verknüpfung zur `libIntuneMAM.a`-Bibliothek her.</span><span class="sxs-lookup"><span data-stu-id="479af-155">**Option 2**: Link to the `libIntuneMAM.a` library.</span></span> <span data-ttu-id="479af-156">Ziehen Sie die `libIntuneMAM.a`-Bibliothek in die Liste **Verknüpfte Frameworks und Bibliotheken** des Projektziels.</span><span class="sxs-lookup"><span data-stu-id="479af-156">Drag the `libIntuneMAM.a` library to the **Linked Frameworks and Libraries** list of the project target.</span></span>

    ![Intune App SDK iOS – verknüpfte Frameworks und Bibliotheken](./media/intune-app-sdk-ios-linked-frameworks-and-libraries.png)

    <span data-ttu-id="479af-158">Fügen Sie `-force_load {PATH_TO_LIB}/libIntuneMAM.a` einem der folgenden Pfade hinzu, wobei Sie `{PATH_TO_LIB}` durch den Speicherort des Intune App SDK ersetzen:</span><span class="sxs-lookup"><span data-stu-id="479af-158">Add `-force_load {PATH_TO_LIB}/libIntuneMAM.a` to either of the following, replacing `{PATH_TO_LIB}` with the Intune App SDK location:</span></span>
   * <span data-ttu-id="479af-159">Der Buildkonfigurationseinstellung `OTHER_LDFLAGS` des Projekts</span><span class="sxs-lookup"><span data-stu-id="479af-159">The project’s `OTHER_LDFLAGS` build configuration setting</span></span>
   * <span data-ttu-id="479af-160">**Other Linker Flags** der Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="479af-160">The UI’s **Other Linker Flags**</span></span>

     > [!NOTE]
     > <span data-ttu-id="479af-161">Um den `PATH_TO_LIB` zu suchen, wählen Sie die Datei `libIntuneMAM.a` und dann im Menü **Datei** die Option **Informationen abrufen** aus.</span><span class="sxs-lookup"><span data-stu-id="479af-161">To find `PATH_TO_LIB`, select the file `libIntuneMAM.a` and choose **Get Info** from the **File** menu.</span></span> <span data-ttu-id="479af-162">Kopieren Sie den **Pfad** aus dem Abschnitt **Allgemein** im Fenster **Info**.</span><span class="sxs-lookup"><span data-stu-id="479af-162">Copy and paste the **Where** information (the path) from the **General** section of the **Info** window.</span></span>

     <span data-ttu-id="479af-163">Fügen Sie das Ressourcenpaket `IntuneMAMResources.bundle` zum Projekt hinzu, indem Sie es in **Buildphasen** unter **Paketressourcen kopieren** ziehen.</span><span class="sxs-lookup"><span data-stu-id="479af-163">Add the `IntuneMAMResources.bundle` resource bundle to the project by dragging the resource bundle under **Copy Bundle Resources** within **Build Phases**.</span></span>

     ![Intune App SDK iOS: Paketressourcen kopieren](./media/intune-app-sdk-ios-copy-bundle-resources.png)

3. <span data-ttu-id="479af-165">Fügen Sie diese iOS-Frameworks zum Projekt hinzu:</span><span class="sxs-lookup"><span data-stu-id="479af-165">Add these iOS frameworks to the project:</span></span>
    * <span data-ttu-id="479af-166">MessageUI.framework</span><span class="sxs-lookup"><span data-stu-id="479af-166">MessageUI.framework</span></span>
    * <span data-ttu-id="479af-167">Security.framework</span><span class="sxs-lookup"><span data-stu-id="479af-167">Security.framework</span></span>
    * <span data-ttu-id="479af-168">MobileCoreServices.framework</span><span class="sxs-lookup"><span data-stu-id="479af-168">MobileCoreServices.framework</span></span>
    * <span data-ttu-id="479af-169">SystemConfiguration.framework</span><span class="sxs-lookup"><span data-stu-id="479af-169">SystemConfiguration.framework</span></span>
    * <span data-ttu-id="479af-170">libsqlite3.tbd</span><span class="sxs-lookup"><span data-stu-id="479af-170">libsqlite3.tbd</span></span>
    * <span data-ttu-id="479af-171">libc++.tbd</span><span class="sxs-lookup"><span data-stu-id="479af-171">libc++.tbd</span></span>
    * <span data-ttu-id="479af-172">ImageIO.framework</span><span class="sxs-lookup"><span data-stu-id="479af-172">ImageIO.framework</span></span>
    * <span data-ttu-id="479af-173">LocalAuthentication.framework</span><span class="sxs-lookup"><span data-stu-id="479af-173">LocalAuthentication.framework</span></span>
    * <span data-ttu-id="479af-174">AudioToolbox.framework</span><span class="sxs-lookup"><span data-stu-id="479af-174">AudioToolbox.framework</span></span>

4. <span data-ttu-id="479af-175">Wenn in Ihrer mobilen App in der Datei „Info.plist“ eine Haupt-NIB- oder Hauptstoryboard-Datei definiert ist, entfernen Sie die Felder **Hauptstoryboard** oder **Haupt-NIB**.</span><span class="sxs-lookup"><span data-stu-id="479af-175">If your mobile app defines a main nib or storyboard file in its Info.plist file, cut the **Main Storyboard** or **Main Nib** field(s).</span></span> <span data-ttu-id="479af-176">Fügen Sie diese Felder und ihre jeweiligen Werte in „Info.plist“ unter einem neuen Wörterbuch mit Namen **IntuneMAMSettings** mit den folgenden Schlüsselnamen (sofern zutreffend) hinzu:</span><span class="sxs-lookup"><span data-stu-id="479af-176">In Info.plist, paste these fields and their corresponding values under a new dictionary named **IntuneMAMSettings** with the following key names, as applicable:</span></span>
   * <span data-ttu-id="479af-177">MainStoryboardFile</span><span class="sxs-lookup"><span data-stu-id="479af-177">MainStoryboardFile</span></span>
   * <span data-ttu-id="479af-178">MainStoryboardFile~ipad</span><span class="sxs-lookup"><span data-stu-id="479af-178">MainStoryboardFile~ipad</span></span>
   * <span data-ttu-id="479af-179">MainNibFile</span><span class="sxs-lookup"><span data-stu-id="479af-179">MainNibFile</span></span>
   * <span data-ttu-id="479af-180">MainNibFile~ipad</span><span class="sxs-lookup"><span data-stu-id="479af-180">MainNibFile~ipad</span></span>
     > [!NOTE]
     > <span data-ttu-id="479af-181">Wenn in Ihrer mobilen App in der Datei „Info.plist“ keine Haupt-NIB- oder Hauptstoryboard-Datei definiert ist, sind diese Einstellungen nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="479af-181">If your mobile app doesn’t define a main nib or storyboard file in its Info.plist file, these settings are not required.</span></span>

     <span data-ttu-id="479af-182">Sie können die Datei „Info.plist“ im Raw-Format anzeigen (um die Schlüsselnamen zu sehen), indem Sie im Dokument mit der rechten Maustaste auf eine beliebige Stelle klicken und den Anzeigetyp in **Show Raw Keys/Values** ändern.</span><span class="sxs-lookup"><span data-stu-id="479af-182">You can view Info.plist in raw format (to see the key names) by right-clicking anywhere in the document body and changing the view type to **Show Raw Keys/Values**.</span></span>

5. <span data-ttu-id="479af-183">Aktivieren Sie die Freigabe des Schlüsselbunds (sofern noch nicht geschehen), indem Sie in jedem Projektziel **Capabilities** auswählen und den Schalter **Keychain Sharing** aktivieren.</span><span class="sxs-lookup"><span data-stu-id="479af-183">Enable keychain sharing (if it isn't already enabled) by choosing **Capabilities** in each project target and enabling the **Keychain Sharing** switch.</span></span> <span data-ttu-id="479af-184">Die Freigabe des Schlüsselbunds ist erforderlich, damit Sie mit dem nächsten Schritt fortfahren können.</span><span class="sxs-lookup"><span data-stu-id="479af-184">Keychain sharing is required for you to proceed to the next step.</span></span>

   > [!NOTE]
   > <span data-ttu-id="479af-185">Ihr Bereitstellungsprofil muss neue Werte für die Freigabe des Schlüsselbunds unterstützen.</span><span class="sxs-lookup"><span data-stu-id="479af-185">Your provisioning profile needs to support new keychain sharing values.</span></span> <span data-ttu-id="479af-186">Die Schlüsselbund-Zugriffsgruppen sollten ein Platzhalterzeichen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="479af-186">The keychain access groups should support a wildcard character.</span></span> <span data-ttu-id="479af-187">Sie können dies überprüfen, indem Sie die Datei „.mobileprovision“ in einem Text-Editor öffnen, nach **keychain-access-groups** suchen und sich vergewissern, dass ein Platzhalter vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="479af-187">You can check this by opening the .mobileprovision file in a text editor, searching for **keychain-access-groups**, and ensuring that you have a wildcard.</span></span> <span data-ttu-id="479af-188">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="479af-188">For example:</span></span>
   >  ```xml
   >  <key>keychain-access-groups</key>
   >  <array>
   >  <string>YOURBUNDLESEEDID.*</string>
   >  </array>
   >  ```

6. <span data-ttu-id="479af-189">Nachdem Sie die Freigabe des Schlüsselbunds aktiviert haben, folgen Sie den nachstehenden Schritten, um eine separate Zugriffsgruppe zu erstellen, in der das Intune App SDK seine Daten speichert.</span><span class="sxs-lookup"><span data-stu-id="479af-189">After you enable keychain sharing, follow these steps to create a separate access group in which the Intune App SDK will store its data.</span></span> <span data-ttu-id="479af-190">Sie können eine Zugriffsgruppe für den Schlüsselbund über die Benutzeroberfläche oder mithilfe der Berechtigungsdatei erstellen.</span><span class="sxs-lookup"><span data-stu-id="479af-190">You can create a keychain access group by using the UI or by using the entitlements file.</span></span> <span data-ttu-id="479af-191">Wenn Sie die Benutzeroberfläche zum Erstellen der Zugriffsgruppe für den Schlüsselbund verwenden, führen Sie unbedingt die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="479af-191">If you are using the UI to create the keychain access group, make sure to follow the steps below:</span></span>

   1. <span data-ttu-id="479af-192">Wenn in Ihrer mobilen App keine Zugriffsgruppen für den Schlüsselbund definiert sind, fügen Sie die Paket-ID der App als erste Gruppe hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-192">If your mobile app does not have any keychain access groups defined, add the app’s bundle ID as the first group.</span></span>

   2. <span data-ttu-id="479af-193">Fügen Sie die freigegebene Zugriffsgruppe für den Schlüsselbund `com.microsoft.intune.mam` Ihren vorhandenen Zugriffsgruppen hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-193">Add the shared keychain group `com.microsoft.intune.mam` to your existing access groups.</span></span> <span data-ttu-id="479af-194">Diese Zugriffsgruppe wird vom Intune App SDK zum Speichern von Daten verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-194">The Intune App SDK uses this access group to store data.</span></span>

   3. <span data-ttu-id="479af-195">Fügen Sie `com.microsoft.adalcache` zu Ihren vorhandenen Zugriffsgruppen hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-195">Add `com.microsoft.adalcache` to your existing access groups.</span></span>

       ![Intune App SDK für iOS: Schlüsselbund gemeinsam nutzen](./media/intune-app-sdk-ios-keychain-sharing.png)

   4. <span data-ttu-id="479af-197">Wenn Sie die Berechtigungsdatei direkt bearbeiten, anstatt die oben gezeigte Xcode-Benutzeroberfläche zum Erstellen der Schlüsselbund-Zugriffsgruppen zu verwenden, setzen Sie `$(AppIdentifierPrefix)` vor die Schlüsselbund-Zugriffsgruppen (Xcode verarbeitet dies automatisch).</span><span class="sxs-lookup"><span data-stu-id="479af-197">If you are editing the entitlements file directly, rather than using the Xcode UI shown above to create the keychain access groups, prepend the keychain access groups with `$(AppIdentifierPrefix)` (Xcode handles this automatically).</span></span> <span data-ttu-id="479af-198">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="479af-198">For example:</span></span>

           * `$(AppIdentifierPrefix)com.microsoft.intune.mam`
           * `$(AppIdentifierPrefix)com.microsoft.adalcache`

      > [!NOTE]
      > <span data-ttu-id="479af-199">Eine Berechtigungsdatei ist eine XML-Datei, die Ihrer App eindeutig zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="479af-199">An entitlements file is an XML file that's unique to your mobile application.</span></span> <span data-ttu-id="479af-200">Sie wird zum Festlegen spezieller Berechtigungen und Funktionen in Ihrer iOS-App verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-200">It is used to specify special permissions and capabilities in your iOS app.</span></span> <span data-ttu-id="479af-201">Wenn Ihre App vorher noch keine Berechtigungsdatei hatte, sollte die Aktivierung der Schlüsselbundfreigabe (Schritt 6) dazu geführt haben, dass Xcode eine für Ihre App generiert hat.</span><span class="sxs-lookup"><span data-stu-id="479af-201">If your app did not previously have an entitlements file, enabling keychain sharing (step 6) should have caused Xcode to generate one for your app.</span></span>

7. <span data-ttu-id="479af-202">Wenn die Definition von URL-Schemas der App in deren Info.plist-Datei erfolgt, fügen Sie ein weiteres Schema mit dem Suffix `-intunemam` für jedes URL-Schema hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-202">If the app defines URL schemes in its Info.plist file, add another scheme, with a `-intunemam` suffix, for each URL scheme.</span></span>

8. <span data-ttu-id="479af-203">Wenn die App Dokumenttypen in der „Info.plist“-Datei definiert, fügen Sie für das Array „Document Content Type UTIs“ jedes Elements einen duplizierten Eintrag für jede Zeichenfolge mit dem Präfix</span><span class="sxs-lookup"><span data-stu-id="479af-203">If the app defines Document types in its Info.plist file, for each item's "Document Content Type UTIs" array, add a duplicate entry for each string with a "com.microsoft.intune.mam."</span></span> <span data-ttu-id="479af-204">„com.microsoft.intune.mam.“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-204">prefix.</span></span>

9. <span data-ttu-id="479af-205">Bei mobilen Apps, die in iOS 9+ entwickelt wurden, nehmen Sie jedes Protokoll, das Ihre App an `UIApplication canOpenURL` übergibt, in das `LSApplicationQueriesSchemes`-Array der Info.plist-Datei Ihrer App auf.</span><span class="sxs-lookup"><span data-stu-id="479af-205">For mobile apps developed on iOS 9+, include each protocol that your app passes to `UIApplication canOpenURL` in the `LSApplicationQueriesSchemes` array of your app's Info.plist file.</span></span> <span data-ttu-id="479af-206">Darüber hinaus fügen Sie `-intunemam` für jedes aufgeführte Protokoll ein neues Protokoll hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-206">Additionally, for each protocol listed, add a new protocol and append it with `-intunemam`.</span></span> <span data-ttu-id="479af-207">Sie müssen auch `http-intunemam`, `https-intunemam`und `ms-outlook-intunemam` in das Array einschließen.</span><span class="sxs-lookup"><span data-stu-id="479af-207">You must also include `http-intunemam`, `https-intunemam`, and `ms-outlook-intunemam` in the array.</span></span>

10. <span data-ttu-id="479af-208">Wenn in den Berechtigungen der App App-Gruppen definiert sind, fügen Sie diese Gruppen dem **IntuneMAMSettings**-Wörterbuch unter dem `AppGroupIdentifiers`-Schlüssel als Zeichenfolgenarray hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-208">If the app has app groups defined in its entitlements, add these groups to the **IntuneMAMSettings** dictionary under the `AppGroupIdentifiers` key as an array of strings.</span></span>

## <a name="using-the-intune-mam-configurator-tool"></a><span data-ttu-id="479af-209">Verwenden des Intune-MAM-Konfigurationstools</span><span class="sxs-lookup"><span data-stu-id="479af-209">Using the Intune MAM Configurator Tool</span></span>

<span data-ttu-id="479af-210">Das Intune-MAM-Konfigurationstool übernimmt jetzt alle Änderungen an info.plist-Dateien, die für die manuelle Integration des SDKs erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="479af-210">The Intune MAM Configurator Tool now handles all info.plist manipulation that is needed to integrate our SDK manually.</span></span> <span data-ttu-id="479af-211">Sie finden es im Repository für das Intune-App-SDK für iOS.</span><span class="sxs-lookup"><span data-stu-id="479af-211">You can find it in the repo for the Intune App SDK for iOS.</span></span> <span data-ttu-id="479af-212">Die zusätzlichen App-spezifischen Einstellungen, wie etwa Multi-ID, AAD-Einstellungen usw. werden nicht von diesem Tool verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="479af-212">Any additional app specific settings such as multi-ID, AAD settings, etc are not handled by this tool.</span></span> <span data-ttu-id="479af-213">Das Tool weist 3 Parameter auf:</span><span class="sxs-lookup"><span data-stu-id="479af-213">The tool has 3 parameters:</span></span>
 
|<span data-ttu-id="479af-214">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="479af-214">Property</span></span>|<span data-ttu-id="479af-215">Verwendung</span><span class="sxs-lookup"><span data-stu-id="479af-215">How to use it</span></span>|
|---------------|--------------------------------|
|<span data-ttu-id="479af-216">- i</span><span class="sxs-lookup"><span data-stu-id="479af-216">- i</span></span> |  `<Path to the input plist>` |
|<span data-ttu-id="479af-217">- e</span><span class="sxs-lookup"><span data-stu-id="479af-217">- e</span></span> | <span data-ttu-id="479af-218">Die Berechtigungsdatei</span><span class="sxs-lookup"><span data-stu-id="479af-218">The entitlements files</span></span> |
|<span data-ttu-id="479af-219">- o</span><span class="sxs-lookup"><span data-stu-id="479af-219">- o</span></span> |  <span data-ttu-id="479af-220">(Optional) `<Path for the changed input plist>`</span><span class="sxs-lookup"><span data-stu-id="479af-220">(Optional) `<Path for the changed input plist>`</span></span> |
    
<span data-ttu-id="479af-221">Das Intune-MAM-Konfigurationstool kann für diese Aktualisierungen verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="479af-221">The Intune MAM Configurator Tool can be used to update:</span></span>
* <span data-ttu-id="479af-222">Alle Hauptstoryboard- und/oder Haupt-Nib-Dateien Ihrer App in IntuneMAMSettings.</span><span class="sxs-lookup"><span data-stu-id="479af-222">Any of your app's Main Storyboard and/or Main Nib files into the IntuneMAMSettings.</span></span>
* <span data-ttu-id="479af-223">Alle definierten URL-Schemas Ihrer App in deren Info.plist-Datei mit dem Suffix „-intunemam“ für jedes URL-Schema.</span><span class="sxs-lookup"><span data-stu-id="479af-223">Any of your app's defined URL schemes in its Info.plist file with the -intunemam suffix, for each URL scheme.</span></span>
* <span data-ttu-id="479af-224">Alle definierten Dokumenttypen Ihrer App in deren Info.plist-Datei für das Array „Document Content Type UTIs“; außerdem erstellt das Tool für jede Zeichenfolge ein Duplikat und fügt ihm das Präfix</span><span class="sxs-lookup"><span data-stu-id="479af-224">Any of your app's defined Document types in its Info.plist file, for each item's "Document Content Type UTIs" array, add a duplicate entry for each string with a "com.microsoft.intune.mam."</span></span> <span data-ttu-id="479af-225">„com.microsoft.intune.mam.“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-225">prefix.</span></span>
* <span data-ttu-id="479af-226">Alle App-Gruppen Ihrer Datei, die in deren Berechtigungen definiert sind; diese werden dem IntuneMAMSettings-Wörterbuch unter dem Schlüssel „AppGroupIdentifiers“ als Zeichenfolgenarray hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="479af-226">Any of your app's app groups defined in its entitlements, add these groups to the IntuneMAMSettings dictionary under the AppGroupIdentifiers key as an array of strings.</span></span>
    
> [!Note]
> <span data-ttu-id="479af-227">Wenn Sie sich für die Verwendung dieses Tools anstelle der manuellen Bearbeitung der info.plist-Datei entscheiden, empfehlen wir, es erneut auszuführen, sobald Änderungen an der info.plist-Datei oder den Berechtigungen Ihrer Datei vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="479af-227">If you decide to use this tool instead of manual info.plist manipulation, we recommend it be rerun whenever changes to your app's info.plist or entitlements have been made.</span></span>

## <a name="configure-azure-active-directory-authentication-library-adal"></a><span data-ttu-id="479af-228">Konfigurieren der Authentifizierungsbibliothek von Azure Active Directory (Active Directory Authentication Library, ADAL)</span><span class="sxs-lookup"><span data-stu-id="479af-228">Configure Azure Active Directory Authentication Library (ADAL)</span></span>

<span data-ttu-id="479af-229">Das Intune App SDK verwendet die [Authentifizierungsbibliothek von Azure Active Directory](https://github.com/AzureAD/azure-activedirectory-library-for-objc) für die Authentifizierung und bedingte Startszenarien.</span><span class="sxs-lookup"><span data-stu-id="479af-229">The Intune App SDK uses [Azure Active Directory Authentication Library](https://github.com/AzureAD/azure-activedirectory-library-for-objc) for its authentication and conditional launch scenarios.</span></span> <span data-ttu-id="479af-230">Außerdem ist es davon abhängig, dass ADAL die Benutzeridentität im MAM-Dienst für das Verwalten registriert, ohne dafür Geräteregistrierungsszenarios zu benötigen.</span><span class="sxs-lookup"><span data-stu-id="479af-230">It also relies on ADAL to register the user identity with the MAM service for management without device enrollment scenarios.</span></span>

<span data-ttu-id="479af-231">Normalerweise setzt ADAL voraus, dass Apps sich bei Azure Active Directory (AAD) registrieren und eine eindeutige ID (Client-ID) sowie weitere Bezeichner abrufen, um die Sicherheit der Token zu gewährleisten, die an die Anwendung übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-231">Typically, ADAL requires apps to register with Azure Active Directory (AAD) and get a unique ID (Client ID) and other identifiers, to guarantee the security of the tokens granted to the app.</span></span> <span data-ttu-id="479af-232">Sofern nicht anders angegeben, verwendet das Intune App SDK bei der Kontaktaufnahme mit Azure AD standardmäßige Registrierungswerte.</span><span class="sxs-lookup"><span data-stu-id="479af-232">Unless otherwise specified, the Intune App SDK uses default registration values when it contacts Azure AD.</span></span>  

<span data-ttu-id="479af-233">Wenn Ihre App bereits ADAL zum Authentifizieren von Benutzern verwendet, muss sie ihre vorhandenen Registrierungswerte verwenden und die Standardwerte des Intune App SDK überschreiben.</span><span class="sxs-lookup"><span data-stu-id="479af-233">If your app already uses ADAL to authenticate users, the app must use its existing registration values and override the Intune App SDK default values.</span></span> <span data-ttu-id="479af-234">So wird sichergestellt, dass Benutzer nicht zweimal aufgefordert werden, sich zu authentifizieren (jeweils einmal vom Intune App SDK und einmal von der App).</span><span class="sxs-lookup"><span data-stu-id="479af-234">This ensures that users are not prompted for authentication twice (once by the Intune App SDK and once by the app).</span></span>

### <a name="recommendations"></a><span data-ttu-id="479af-235">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="479af-235">Recommendations</span></span>

<span data-ttu-id="479af-236">Ihre App sollte mit der [aktuellen Version von ADAL](https://github.com/AzureAD/azure-activedirectory-library-for-objc/releases) auf deren Hauptverzweigung verknüpft sein.</span><span class="sxs-lookup"><span data-stu-id="479af-236">It is recommended that your app links to the [latest version of ADAL](https://github.com/AzureAD/azure-activedirectory-library-for-objc/releases) on its master branch.</span></span> <span data-ttu-id="479af-237">Das Intune App SDK verwendet derzeit den Brokerbranch von ADAL, um Apps zu unterstützen, für die bedingter Zugriff erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="479af-237">The Intune App SDK currently uses the broker branch of ADAL to support apps that require conditional access.</span></span> <span data-ttu-id="479af-238">(Deshalb hängen diese Apps von der Microsoft Authenticator-App ab.) Das SDK ist trotzdem mit dem Hauptbranch von ADAL kompatibel.</span><span class="sxs-lookup"><span data-stu-id="479af-238">(These apps therefore depend on the Microsoft Authenticator app.) But the SDK is still compatible with the master branch of ADAL.</span></span> <span data-ttu-id="479af-239">Verwenden Sie den Branch, der am besten zu Ihrer App passt.</span><span class="sxs-lookup"><span data-stu-id="479af-239">Use the branch that is appropriate for your app.</span></span>

### <a name="link-to-adal-binaries"></a><span data-ttu-id="479af-240">Verknüpfung mit ADAL-Binärdateien</span><span class="sxs-lookup"><span data-stu-id="479af-240">Link to ADAL binaries</span></span>

<span data-ttu-id="479af-241">Gehen Sie folgendermaßen vor, um Ihre App mit den ADAL-Binärdateien zu verknüpfen:</span><span class="sxs-lookup"><span data-stu-id="479af-241">Follow the steps below to link your app to the ADAL binaries:</span></span>

1. <span data-ttu-id="479af-242">Laden Sie die [Authentifizierungsbibliothek von Azure Active Directory (ADAL) für Objective-C](https://github.com/AzureAD/azure-activedirectory-library-for-objc) von GitHub herunter, und befolgen Sie dann die [Anweisungen](https://github.com/AzureAD/azure-activedirectory-library-for-objc/blob/master/README.md) zum Herunterladen von ADAL mithilfe von Git-Submodulen oder CocoaPods.</span><span class="sxs-lookup"><span data-stu-id="479af-242">Download the [Azure Active Directory Authentication Library (ADAL) for Objective-C](https://github.com/AzureAD/azure-activedirectory-library-for-objc) from GitHub, then follow the [instructions](https://github.com/AzureAD/azure-activedirectory-library-for-objc/blob/master/README.md) on how to download ADAL using Git submodules or CocoaPods.</span></span>

2. <span data-ttu-id="479af-243">Schließen Sie das `ADALiOSBundle.bundle` in das Projekt ein, indem Sie das Ressourcenpaket unter **Copy Bundle Resources** nach **Build Phases** ziehen.</span><span class="sxs-lookup"><span data-stu-id="479af-243">Include the `ADALiOSBundle.bundle` resource bundle in the project by dragging the resource bundle under **Copy Bundle Resources** within **Build Phases**.</span></span>

3. <span data-ttu-id="479af-244">Fügen Sie `-force_load {PATH_TO_LIB}/libADALiOS.a` der `OTHER_LDFLAGS`-Buildkonfigurationseinstellung des Projekts hinzu, oder legen Sie auf der Benutzeroberfläche **Other Linker Flags** fest.</span><span class="sxs-lookup"><span data-stu-id="479af-244">Add `-force_load {PATH_TO_LIB}/libADALiOS.a` to the project’s `OTHER_LDFLAGS` build configuration setting or **Other Linker Flags** in the UI.</span></span> <span data-ttu-id="479af-245">`PATH_TO_LIB` sollte durch den Speicherort der ADAL-Binärdateien ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-245">`PATH_TO_LIB` should be replaced with the location of the ADAL binaries.</span></span>



### <a name="share-the-adal-token-cache-with-other-apps-signed-with-the-same-provisioning-profile"></a><span data-ttu-id="479af-246">Freigeben des ADAL-Tokencaches für andere Apps, die mit dem gleichen Bereitstellungsprofil signiert wurden?**</span><span class="sxs-lookup"><span data-stu-id="479af-246">Share the ADAL token cache with other apps signed with the same provisioning profile?**</span></span>

<span data-ttu-id="479af-247">Befolgen Sie die unten stehenden Anweisungen, wenn Sie ADAL-Token für Apps freigeben möchten, die mit dem gleichen Bereitstellungsprofil signiert wurden:</span><span class="sxs-lookup"><span data-stu-id="479af-247">Follow the instructions below if you want to share ADAL tokens between apps signed with the same provisioning profile:</span></span>

1. <span data-ttu-id="479af-248">Wenn in Ihrer App keine Zugriffsgruppen für den Schlüsselbund definiert sind, fügen Sie die Paket-ID der App als erste Gruppe hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-248">If your app does not have any keychain access groups defined, add the app’s bundle ID as the first group.</span></span>

2. <span data-ttu-id="479af-249">Aktivieren Sie ADAL-SSO (einmaliges Anmelden), indem Sie den Schlüsselbundberechtigungen die Zugriffsgruppen `com.microsoft.adalcache` und `com.microsoft.workplacejoin` hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="479af-249">Enable ADAL single sign-on (SSO) by adding `com.microsoft.adalcache` and `com.microsoft.workplacejoin` access groups in the keychain entitlements.</span></span>

3. <span data-ttu-id="479af-250">Falls Sie die Schlüsselbundgruppe für den freigegebenen ADAL-Cache explizit festlegen, achten Sie darauf, dass sie auf `<app_id_prefix>.com.microsoft.adalcache` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="479af-250">If you are explicitly setting the ADAL shared cache keychain group, make sure it is set to `<app_id_prefix>.com.microsoft.adalcache`.</span></span> <span data-ttu-id="479af-251">ADAL legt dies für Sie fest, sofern Sie die Einstellung nicht außer Kraft setzen.</span><span class="sxs-lookup"><span data-stu-id="479af-251">ADAL will set this for you unless you override it.</span></span> <span data-ttu-id="479af-252">Wenn Sie eine benutzerdefinierte Schlüsselbundgruppe als Ersatz für `com.microsoft.adalcache` festlegen möchten, können Sie dies in der info.plist-Datei unter IntuneMAMSettings mit dem Schlüssel `ADALCacheKeychainGroupOverride` tun.</span><span class="sxs-lookup"><span data-stu-id="479af-252">If you want to specify a custom keychain group to replace `com.microsoft.adalcache`, specify that in the Info.plist file under IntuneMAMSettings, by using the key `ADALCacheKeychainGroupOverride`.</span></span>

### <a name="configure-adal-settings-for-the-intune-app-sdk"></a><span data-ttu-id="479af-253">Konfigurieren der ADAL-Einstellungen für das Intune App SDK</span><span class="sxs-lookup"><span data-stu-id="479af-253">Configure ADAL settings for the Intune App SDK</span></span>

<span data-ttu-id="479af-254">Wenn Ihre Anwendung bereits ADAL für die Authentifizierung verwendet und über eigene ADAL-Einstellungen verfügt, können Sie die Verwendung der gleichen Einstellungen durch das Intune App SDK während der Authentifizierung bei Azure Active Directory erzwingen.</span><span class="sxs-lookup"><span data-stu-id="479af-254">If your app already uses ADAL for authentication and has its own ADAL settings, you can force the Intune App SDK to use the same settings during authentication against Azure Active Directory.</span></span> <span data-ttu-id="479af-255">Dadurch wird sichergestellt, dass die App den Benutzer nicht zweimal zur Authentifizierung auffordert.</span><span class="sxs-lookup"><span data-stu-id="479af-255">This ensures that the app will not double-prompt the user for authentication.</span></span> <span data-ttu-id="479af-256">Unter [Configure settings for the Intune App SDK](#configure-settings-for-the-intune-app-sdk) (Konfigurieren der Einstellungen für das Intune App SDK) finden Sie Informationen zum Auffüllen der folgenden Einstellungen:</span><span class="sxs-lookup"><span data-stu-id="479af-256">See [Configure settings for the Intune App SDK](#configure-settings-for-the-intune-app-sdk) for information on populating the following settings:</span></span>  

* <span data-ttu-id="479af-257">ADALClientId</span><span class="sxs-lookup"><span data-stu-id="479af-257">ADALClientId</span></span>
* <span data-ttu-id="479af-258">ADALAuthority</span><span class="sxs-lookup"><span data-stu-id="479af-258">ADALAuthority</span></span>
* <span data-ttu-id="479af-259">ADALRedirectUri</span><span class="sxs-lookup"><span data-stu-id="479af-259">ADALRedirectUri</span></span>
* <span data-ttu-id="479af-260">ADALRedirectScheme</span><span class="sxs-lookup"><span data-stu-id="479af-260">ADALRedirectScheme</span></span>
* <span data-ttu-id="479af-261">ADALCacheKeychainGroupOverride</span><span class="sxs-lookup"><span data-stu-id="479af-261">ADALCacheKeychainGroupOverride</span></span>

<span data-ttu-id="479af-262">Wenn Ihre App bereits ADAL verwendet, sind die folgenden Konfigurationen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="479af-262">If your app already uses ADAL, the following configurations are required:</span></span>

1. <span data-ttu-id="479af-263">Geben Sie in der Datei „Info.plist“ des Projekts unter dem **IntuneMAMSettings**-Wörterbuch mit dem Schlüsselnamen `ADALClientId` die für ADAL-Aufrufe zu verwendende Client-ID an.</span><span class="sxs-lookup"><span data-stu-id="479af-263">In the project’s Info.plist file, under the **IntuneMAMSettings** dictionary with the key name `ADALClientId`, specify the client ID to be used for ADAL calls.</span></span>

2. <span data-ttu-id="479af-264">Geben Sie außerdem im **IntuneMAMSettings**-Wörterbuch mit dem Schlüsselnamen `ADALAuthority` die Azure AD-Autorität an.</span><span class="sxs-lookup"><span data-stu-id="479af-264">Also under the **IntuneMAMSettings** dictionary with the key name `ADALAuthority`, specify the Azure AD authority.</span></span>

3. <span data-ttu-id="479af-265">Geben Sie außerdem im **IntuneMAMSettings**-Wörterbuch mit dem Schlüsselnamen `ADALRedirectUri` den Umleitungs-URI an, mit dem ADAL-Aufrufe durchgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="479af-265">Also under the **IntuneMAMSettings** dictionary with the key name `ADALRedirectUri`, specify the redirect URI to be used for ADAL calls.</span></span> <span data-ttu-id="479af-266">Je nach dem Format des Umleitungs-URIs Ihrer App müssen Sie auch das `ADALRedirectScheme` angeben.</span><span class="sxs-lookup"><span data-stu-id="479af-266">You might also need to specify `ADALRedirectScheme`, depending on the format of your app’s redirect URI.</span></span>


<span data-ttu-id="479af-267">Außerdem können Sie die URL der Azure AD-Autorität zur Laufzeit durch eine mandantenspezifische URL ersetzen.</span><span class="sxs-lookup"><span data-stu-id="479af-267">Additionally, you can override the Azure AD Authority URL with a tenant-specific URL at runtime.</span></span> <span data-ttu-id="479af-268">Legen Sie zu diesem Zweck einfach die `aadAuthorityUriOverride`-Eigenschaft auf der `IntuneMAMPolicyManager`-Instanz fest.</span><span class="sxs-lookup"><span data-stu-id="479af-268">To do this, simply set the `aadAuthorityUriOverride` property on the `IntuneMAMPolicyManager` instance.</span></span>

> [!NOTE]
> <span data-ttu-id="479af-269">Das Festlegen der URL der Azure AD-Autorität ist für [APP ohne Geräteregistrierung](#App-protection-policy-without-device-enrollment) erforderlich, um dem SDK die erneute Verwendung des ADAL-Aktualisierungstokens, das von der App abgefangen wurde, zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="479af-269">Setting the AAD Authority URL is required for [APP without device enrollment](#App-protection-policy-without-device-enrollment) to let the SDK reuse the ADAL refresh token fetched by the app.</span></span>

<span data-ttu-id="479af-270">Das SDK verwendet diese Autoritäts-URL weiterhin für die Richtlinienaktualisierung und alle weiteren Registrierungsanfragen, wenn der Wert nicht gelöscht oder verändert wird.</span><span class="sxs-lookup"><span data-stu-id="479af-270">The SDK will continue to use this authority URL for policy refresh and any subsequent enrollment requests, unless the value is cleared or changed.</span></span>  <span data-ttu-id="479af-271">Daher ist es wichtig, den Wert zu löschen, wenn sich ein verwalteter Benutzer bei der App abmeldet, und den Wert zurückzusetzen, wenn sich ein neuer verwalteter Benutzer anmeldet.</span><span class="sxs-lookup"><span data-stu-id="479af-271">Therefore, it is important to clear the value when a managed user signs out of the app and to reset the value when a new managed user signs in.</span></span>

### <a name="if-your-app-does-not-use-adal"></a><span data-ttu-id="479af-272">Wenn Ihre Anwendung ADAL nicht verwendet</span><span class="sxs-lookup"><span data-stu-id="479af-272">If your app does not use ADAL</span></span>

<span data-ttu-id="479af-273">Wenn Ihre App ADAL nicht verwendet, stellt das Intune App SDK Standardwerte für ADAL-Parameter und behandelt die Authentifizierung in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="479af-273">If your app does not use ADAL, the Intune App SDK will provide default values for ADAL parameters and handle authentication against Azure AD.</span></span> <span data-ttu-id="479af-274">Sie müssen keine Werte für die oben aufgeführten ADAL-Einstellungen angeben.</span><span class="sxs-lookup"><span data-stu-id="479af-274">You do not have to specify any values for the ADAL settings listed above.</span></span>

## <a name="app-protection-policy-without-device-enrollment"></a><span data-ttu-id="479af-275">App-Schutzrichtlinie ohne Geräteregistrierung</span><span class="sxs-lookup"><span data-stu-id="479af-275">App protection policy without device enrollment</span></span>

### <a name="overview"></a><span data-ttu-id="479af-276">Übersicht</span><span class="sxs-lookup"><span data-stu-id="479af-276">Overview</span></span>
<span data-ttu-id="479af-277">Intune-App-Schutzrichtlinie ohne Geräteregistrierung, auch bekannt als **APP-WE** oder MAM-WE – ermöglicht, dass Apps von Intune verwaltet werden können, ohne dass das Gerät bei der Verwaltung mobiler Geräte (MDM) von Intune registriert sein muss.</span><span class="sxs-lookup"><span data-stu-id="479af-277">Intune app protection policy without device enrollment, also known as **APP-WE** or MAM-WE, allows apps to be managed by Intune without the need for the device to be enrolled Intune mobile device management (MDM).</span></span> <span data-ttu-id="479af-278">Um diese neue Funktionalität zu unterstützen, muss die App an der Registrierung von Benutzerkonten für die Verwaltung zu teilnehmen.</span><span class="sxs-lookup"><span data-stu-id="479af-278">To support this new functionality, the app must participate to register user accounts for management.</span></span> <span data-ttu-id="479af-279">Führen Sie folgende Schritte aus, um die neuen APIs zu nutzen:</span><span class="sxs-lookup"><span data-stu-id="479af-279">To use the new APIs, follow these steps:</span></span>

1. <span data-ttu-id="479af-280">Verwenden Sie die neueste Version des Intune App SDKs, die Verwaltung von Geräten mit oder ohne Geräteregistrierung unterstützt.</span><span class="sxs-lookup"><span data-stu-id="479af-280">Use the latest release of the Intune App SDK, which supports management of apps with or without device enrollment.</span></span>

2. <span data-ttu-id="479af-281">Fügen Sie „intuneMAMEnrollment.h“ in jede Datei ein, die die APIs aufruft.</span><span class="sxs-lookup"><span data-stu-id="479af-281">Add IntuneMAMEnrollment.h to any files that will call the APIs.</span></span>

### <a name="register-user-accounts"></a><span data-ttu-id="479af-282">Registrieren von Benutzerkonten</span><span class="sxs-lookup"><span data-stu-id="479af-282">Register user accounts</span></span>

<span data-ttu-id="479af-283">Eine App kann App-Schutzrichtlinien vom Intune-Dienst empfangen, wenn die App im Auftrag eines angegebenen Benutzerkontos bei dem APP-WE-Dienst registriert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-283">An app can receive app protection policy from the Intune service if the app enrolls with the APP-WE service on behalf of a specified user account.</span></span> <span data-ttu-id="479af-284">Es ist Aufgabe der App, alle neu angemeldeten Benutzer beim SDK zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-284">The app is responsible for registering any newly signed-in user with the SDK.</span></span> <span data-ttu-id="479af-285">Nachdem das neue Benutzerkonto authentifiziert wurde, sollte die App die `registerAndEnrollAccount`-Methode unter „Headers/IntuneMAMEnrollment.h“ aufrufen:</span><span class="sxs-lookup"><span data-stu-id="479af-285">After the new user account has been authenticated, the app should call the `registerAndEnrollAccount` method in Headers/IntuneMAMEnrollment.h:</span></span>

```objc
/**


 *  This method will add the account to the list of registered accounts.
 *  An enrollment request will immediately be started.
 *  @param identity The UPN of the account to be registered with the SDK
 */

(void)registerAndEnrollAccount:(NSString *)identity;
```
<span data-ttu-id="479af-286">Durch Aufrufen der `registerAndEnrollAccount`-Methode registriert das SDK das Benutzerkonto und versucht, die App im Auftrag dieses Kontos zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-286">By calling the `registerAndEnrollAccount` method, the SDK will register the user account and attempt to enroll the app on behalf of this account.</span></span> <span data-ttu-id="479af-287">Wenn bei der Registrierung aus irgendeinem Grund ein Fehler auftritt, versucht das SDK die Registrierung 24 Stunden später automatisch erneut.</span><span class="sxs-lookup"><span data-stu-id="479af-287">If the enrollment fails for any reason, the SDK will automatically retry the enrollment 24 hours later.</span></span> <span data-ttu-id="479af-288">Zu Debugzwecken kann die App über einen Stellvertreter Benachrichtigungen zu den Ergebnissen von Registrierungsanforderungen empfangen.</span><span class="sxs-lookup"><span data-stu-id="479af-288">For debugging purposes, the app can receive notifications, via a delegate, about the results of any enrollment requests.</span></span>

<span data-ttu-id="479af-289">Nachdem diese API aufgerufen wurde, kann die Anwendung anschließend normal funktionieren.</span><span class="sxs-lookup"><span data-stu-id="479af-289">After this API has been invoked, the app can continue to function as normal.</span></span> <span data-ttu-id="479af-290">Wenn die Registrierung erfolgreich ist, benachrichtigt das SDK den Benutzer, dass ein Neustart der App erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="479af-290">If the enrollment succeeds, the SDK will notify the user that an app restart is required.</span></span> <span data-ttu-id="479af-291">Nun kann der Benutzer die App sofort neu starten.</span><span class="sxs-lookup"><span data-stu-id="479af-291">At that time, the user can immediately restart the app.</span></span>

### <a name="deregister-user-accounts"></a><span data-ttu-id="479af-292">Aufheben der Registrierung von Benutzerkonten</span><span class="sxs-lookup"><span data-stu-id="479af-292">Deregister user accounts</span></span>

<span data-ttu-id="479af-293">Bevor ein Benutzer bei einer App abgemeldet wird, sollte die App die Registrierung des Benutzers beim SDK aufheben.</span><span class="sxs-lookup"><span data-stu-id="479af-293">Before a user is signed out of an app, the app should deregister the user from the SDK.</span></span> <span data-ttu-id="479af-294">So wird sichergestellt:</span><span class="sxs-lookup"><span data-stu-id="479af-294">This will ensure:</span></span>

1. <span data-ttu-id="479af-295">Für das Konto des Benutzers werden keine wiederholten Registrierungsversuche mehr ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="479af-295">Enrollment retries will no longer happen for the user’s account.</span></span>

2. <span data-ttu-id="479af-296">Die App-Schutzrichtlinie wird entfernt.</span><span class="sxs-lookup"><span data-stu-id="479af-296">App protection policy will be removed.</span></span>

3. <span data-ttu-id="479af-297">Wenn die App ein selektives Zurücksetzen einleitet (optional), werden alle Unternehmensdaten gelöscht.</span><span class="sxs-lookup"><span data-stu-id="479af-297">If the app initiates a selective wipe (optional), any corporate data is deleted.</span></span>

<span data-ttu-id="479af-298">Bevor der Benutzer abgemeldet wird, sollte die App die folgende API unter `Headers/IntuneMAMEnrollment.h` aufrufen:</span><span class="sxs-lookup"><span data-stu-id="479af-298">Before the user is signed out, the app should call the following API in `Headers/IntuneMAMEnrollment.h`:</span></span>

```objc
/*
 *  This method will remove the provided account from the list of
 *  registered accounts.  Once removed, if the account has enrolled
 *  the application, the account will be un-enrolled.
 *  @note In the case where an un-enroll is required, this method will block
 *  until the Intune MAM AAD token is acquired, then return.  This method must be called before  
 *  the user is removed from the application (so that required AAD tokens are not purged
 *  before this method is called).
 *  @param identity The UPN of the account to be removed.
 *  @param doWipe   If YES, a selective wipe if the account is un-enrolled
 */

(void)deRegisterAndUnenrollAccount:(NSString *)identity withWipe:(BOOL)doWipe;
```

<span data-ttu-id="479af-299">Diese Methode muss aufgerufen werden, bevor die Azure AD-Token des Benutzerkontos gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="479af-299">This method must be called before the user account’s Azure AD tokens are deleted.</span></span> <span data-ttu-id="479af-300">Das SDK benötigt das/die AAD-Token des Benutzerkontos, um im Auftrag des Benutzers spezifische Anforderungen an den APP-WE-Dienst zu senden.</span><span class="sxs-lookup"><span data-stu-id="479af-300">The SDK needs the user account’s AAD token(s) to make specific requests to the APP-WE service on behalf of the user.</span></span>

<span data-ttu-id="479af-301">Wenn die App die Unternehmensdaten des Benutzers aus eigenem Antrieb löscht, kann das `doWipe`-Flag auf FALSCH festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-301">If the app will delete the user’s corporate data on its own, the `doWipe` flag can be set to false.</span></span> <span data-ttu-id="479af-302">Andernfalls kann die App das SDK dazu veranlassen, einen Prozess zum selektiven Zurücksetzen zu initiieren.</span><span class="sxs-lookup"><span data-stu-id="479af-302">Otherwise, the app can have the SDK initiate a selective wipe.</span></span> <span data-ttu-id="479af-303">Dies führt zu einem Aufruf des Stellvertreters der App für das selektive Zurücksetzen.</span><span class="sxs-lookup"><span data-stu-id="479af-303">This will result in a call to the app's selective wipe delegate.</span></span>

```objc
[[IntuneMAMEnrollmentManager instance] deRegisterAndUnenrollAccount:@”user@foo.com” withWipe:YES];
```

### <a name="apps-that-do-not-use-adal"></a><span data-ttu-id="479af-304">Apps, die nicht ADAL verwenden</span><span class="sxs-lookup"><span data-stu-id="479af-304">Apps that do not use ADAL</span></span>

<span data-ttu-id="479af-305">Apps, die den Benutzer nicht mit ADAL anmelden, können trotzdem App-Schutzrichtlinien vom Intune-Dienst empfangen, indem sie die API aufrufen, um die Authentifizierung vom SDK ausführen zu lassen.</span><span class="sxs-lookup"><span data-stu-id="479af-305">Apps that do not sign in the user using ADAL can still receive app protection policy from the Intune service by calling the API to have the SDK handle that authentication.</span></span> <span data-ttu-id="479af-306">Apps verwenden diese Vorgehensweise am besten, wenn sie keinen Benutzer in Azure AD authentifiziert haben, aber trotzdem App-Schutzrichtlinien zum Schutz von Daten abrufen müssen.</span><span class="sxs-lookup"><span data-stu-id="479af-306">Apps should use this technique when they have not authenticated a user with Azure AD but still need to retrieve app protection policy to help protect data.</span></span> <span data-ttu-id="479af-307">Beispielsweise, wenn ein anderer Authentifizierungsdienst für die App-Anmeldung verwendet wird oder wenn die App überhaupt kein Anmelden unterstützt.</span><span class="sxs-lookup"><span data-stu-id="479af-307">An example is if another authentication service is being used for app sign-in, or if the app does not support signing in at all.</span></span> <span data-ttu-id="479af-308">Zu diesem Zweck sollte die Anwendung die `loginAndEnrollAccount`-Methode unter „Headers/IntuneMAMEnrollment.h“ aufrufen:</span><span class="sxs-lookup"><span data-stu-id="479af-308">To do this, the application should call the `loginAndEnrollAccount`  method in Headers/IntuneMAMEnrollment.h:</span></span>

```objc
/**
 *  Creates an enrollment request which is started immediately.
 *  If no token can be retrieved for the identity, the user will be prompted
 *  to enter their credentials, after which enrollment will be retried.
 *  @param identity The UPN of the account to be logged in and enrolled.
 */
 (void)loginAndEnrollAccount: (NSString *)identity;
```

<span data-ttu-id="479af-309">Durch Aufrufen dieser Methode wird der Benutzer vom SDK zur Eingabe von Anmeldeinformationen aufgefordert, wenn kein vorhandenes Token gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="479af-309">By calling this method, the SDK will prompt the user for credentials if no existing token can be found.</span></span> <span data-ttu-id="479af-310">Das SDK versucht dann, die App im Auftrag des angegebenen Benutzerkontos beim APP-WE-Dienst zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-310">The SDK will then try to enroll the app with the APP-WE service on behalf of the supplied user account.</span></span> <span data-ttu-id="479af-311">Die Methode kann mit der Identität „nil“ aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-311">The method can be called with "nil" as the identity.</span></span> <span data-ttu-id="479af-312">In diesem Fall nimmt das SDK die Registrierung mit dem vorhandenen verwalteten Benutzer auf dem Gerät vor oder fordert den Benutzer zur Eingabe eines Benutzernamens auf, wenn kein vorhandener Benutzer gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="479af-312">In that case, the SDK will enroll with the existing managed user on the device, or prompt the user for a user name if no existing user is found.</span></span>

<span data-ttu-id="479af-313">Bei einem Fehler bei der Registrierung sollte die App den erneuten Aufruf dieser API zu einem späteren Zeitpunkt vorsehen, je nach den Fehlerdetails.</span><span class="sxs-lookup"><span data-stu-id="479af-313">If the enrollment fails, the app should consider calling this API again at a future time, depending on the details of the failure.</span></span> <span data-ttu-id="479af-314">Die App kann über einen Stellvertreter [Benachrichtigungen](#Status-result-and-debug-notifications) zu den Ergebnissen von Registrierungsanforderungen empfangen.</span><span class="sxs-lookup"><span data-stu-id="479af-314">The app can receive [notifications](#Status-result-and-debug-notifications), via a delegate, about the results of any enrollment requests.</span></span>

<span data-ttu-id="479af-315">Nachdem diese API aufgerufen wurde, kann die App anschließend normal funktionieren.</span><span class="sxs-lookup"><span data-stu-id="479af-315">After this API has been invoked, the app can continue functioning as normal.</span></span> <span data-ttu-id="479af-316">Wenn die Registrierung erfolgreich ist, benachrichtigt das SDK den Benutzer, dass ein Neustart der App erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="479af-316">If the enrollment succeeds, the SDK will notify the user that an app restart is required.</span></span>

## <a name="status-result-and-debug-notifications"></a><span data-ttu-id="479af-317">Status-, Ergebnis- und Debugbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="479af-317">Status, result, and debug notifications</span></span>

<span data-ttu-id="479af-318">Die App kann Status-, Ergebnis- und Debugbenachrichtigungen zu den folgenden Anforderungen an den Intune MAM-Dienst empfangen:</span><span class="sxs-lookup"><span data-stu-id="479af-318">The app can receive status, result, and debug notifications about the following requests to the Intune MAM service:</span></span>

 - <span data-ttu-id="479af-319">Registrierungsanforderungen</span><span class="sxs-lookup"><span data-stu-id="479af-319">Enrollment requests</span></span>
 - <span data-ttu-id="479af-320">Anforderungen zur Richtlinienaktualisierung</span><span class="sxs-lookup"><span data-stu-id="479af-320">Policy update requests</span></span>
 - <span data-ttu-id="479af-321">Anfragen zur Aufhebung der Registrierung</span><span class="sxs-lookup"><span data-stu-id="479af-321">Unenrollment requests</span></span>

<span data-ttu-id="479af-322">Die Benachrichtigungen werden über Stellvertretermethoden in `Headers/IntuneMAMEnrollmentDelegate.h` angezeigt:</span><span class="sxs-lookup"><span data-stu-id="479af-322">The notifications are presented via delegate methods in `Headers/IntuneMAMEnrollmentDelegate.h`:</span></span>

```objc
/**
 *  Called when an enrollment request operation is completed.
 * @param status status object containing debug information
 */

(void)enrollmentRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;

/**
 *  Called when a MAM policy request operation is completed.
 *  @param status status object containing debug information
 */
(void)policyRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;

/**
 *  Called when a un-enroll request operation is completed.
 *  @Note: when a user is un-enrolled, the user is also de-registered with the SDK
 *  @param status status object containing debug information
 */

(void)unenrollRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;
```

<span data-ttu-id="479af-323">Diese Stellvertretermethoden geben ein `IntuneMAMEnrollmentStatus`-Objekt zurück, das die folgenden Informationen enthält:</span><span class="sxs-lookup"><span data-stu-id="479af-323">These delegate methods return an `IntuneMAMEnrollmentStatus` object that has the following information:</span></span>

- <span data-ttu-id="479af-324">Die Identität der Kontos, dem die Anforderung zugeordnet ist</span><span class="sxs-lookup"><span data-stu-id="479af-324">The identity of the account associated with the request</span></span>
- <span data-ttu-id="479af-325">Ein Statuscode, der das Ergebnis der Anforderung anzeigt</span><span class="sxs-lookup"><span data-stu-id="479af-325">A status code that indicates the result of the request</span></span>
- <span data-ttu-id="479af-326">Eine Fehlerzeichenfolge mit einer Beschreibung des Statuscodes</span><span class="sxs-lookup"><span data-stu-id="479af-326">An error string with a description of the status code</span></span>
- <span data-ttu-id="479af-327">Ein `NSError`-Objekt</span><span class="sxs-lookup"><span data-stu-id="479af-327">An `NSError` object</span></span>

<span data-ttu-id="479af-328">Dieses Objekt ist in `IntuneMAMEnrollmentStatus.h` zusammen mit den spezifischen Statuscodes definiert, die zurückgegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="479af-328">This object is defined in `IntuneMAMEnrollmentStatus.h`, along with the specific status codes that can be returned.</span></span>


### <a name="sample-code"></a><span data-ttu-id="479af-329">Beispielcode</span><span class="sxs-lookup"><span data-stu-id="479af-329">Sample code</span></span>

<span data-ttu-id="479af-330">Die folgenden Beispiele zeigen Implementierungen der Stellvertretermethoden:</span><span class="sxs-lookup"><span data-stu-id="479af-330">These are example implementations of the delegate methods:</span></span>

```objc
- (void)enrollmentRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"enrollment result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}


- (void)policyRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"policy check-in result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}

- (void)unenrollRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"un-enroll result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}
```

## <a name="app-restart"></a><span data-ttu-id="479af-331">App-Neustart</span><span class="sxs-lookup"><span data-stu-id="479af-331">App restart</span></span>

<span data-ttu-id="479af-332">Wenn eine Anwendung zum ersten Mal App-Schutzrichtlinien empfängt, muss sie neu gestartet werden, um die erforderlichen Hooks anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="479af-332">When an app receives app protection policies for the first time, it must restart to apply the required hooks.</span></span> <span data-ttu-id="479af-333">Das SDK stellt eine Delegatmethode unter Header/IntuneMAMEnrollment.h bereit, um die App zu informieren, dass sie neu gestartet werden muss.</span><span class="sxs-lookup"><span data-stu-id="479af-333">To notify the app that a restart needs to happen, the SDK provides a delegate method in Headers/IntuneMAMPolicyDelegate.h.</span></span>

```objc
 - (BOOL) restartApplication
```
<span data-ttu-id="479af-334">Der Rückgabewert dieser Methode teilt dem SDK mit, ob die Anwendung den erforderlichen Neustart übernehmen muss:</span><span class="sxs-lookup"><span data-stu-id="479af-334">The return value of this method tells the SDK if the application must handle the required restart:</span></span>   

 - <span data-ttu-id="479af-335">Wenn „true“ zurückgegeben wird, muss die Anwendung den Neustart ausführen.</span><span class="sxs-lookup"><span data-stu-id="479af-335">If true is returned, the application must handle the restart.</span></span>   

 - <span data-ttu-id="479af-336">Wenn „FALSE“ zurückgegeben wird, startet das SDK die App neu, nachdem die Methode zurückkehrt.</span><span class="sxs-lookup"><span data-stu-id="479af-336">If false is returned, the SDK will restart the application after this method returns.</span></span> <span data-ttu-id="479af-337">Das SDK zeigt sofort im Anschluss ein Dialogfeld an, dass den Benutzer informiert, dass er die App neu starten muss.</span><span class="sxs-lookup"><span data-stu-id="479af-337">The SDK will immediately show a dialog box that tells the user to restart the application.</span></span>

## <a name="customize-your-apps-behavior"></a><span data-ttu-id="479af-338">Passen Sie das Verhalten Ihrer App an</span><span class="sxs-lookup"><span data-stu-id="479af-338">Customize your app's behavior</span></span>

<span data-ttu-id="479af-339">Das Intune App SDK hat mehrere APIs, die Sie aufrufen können, um Informationen über die App-Schutzrichtlinie in Intune zu erhalten, die der App bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="479af-339">The Intune App SDK has several APIs you can call to get information about the Intune app protection policy deployed to the app.</span></span> <span data-ttu-id="479af-340">Diese Daten können Sie benutzen, um das Verhalten Ihrer App anzupassen.</span><span class="sxs-lookup"><span data-stu-id="479af-340">You can use this data to customize your app's behavior.</span></span> <span data-ttu-id="479af-341">Die meisten Einstellungen für App-Schutzrichtlinien werden automatisch vom SDK und nicht von der Anwendung erzwungen.</span><span class="sxs-lookup"><span data-stu-id="479af-341">Most app protection policy settings are automatically enforced by the SDK and not the application.</span></span> <span data-ttu-id="479af-342">Die einzige Einstellung, die die App implementieren sollte, ist das Steuerelement „Speichern unter“.</span><span class="sxs-lookup"><span data-stu-id="479af-342">The only setting that the app should implement is the Save-as control.</span></span>

### <a name="get-app-protection-policy"></a><span data-ttu-id="479af-343">Abrufen der App-Schutzrichtlinie</span><span class="sxs-lookup"><span data-stu-id="479af-343">Get app protection policy</span></span>

#### <a name="intunemampolicymanagerh"></a><span data-ttu-id="479af-344">IntuneMAMPolicyManager.h</span><span class="sxs-lookup"><span data-stu-id="479af-344">IntuneMAMPolicyManager.h</span></span>
<span data-ttu-id="479af-345">Die Klasse „IntuneMAMPolicyManager“ stellt die App-Schutzrichtlinie für Intune, die für die App bereitgestellt wurde, bereit.</span><span class="sxs-lookup"><span data-stu-id="479af-345">The IntuneMAMPolicyManager class exposes the Intune app protection policy deployed to the application.</span></span> <span data-ttu-id="479af-346">Sie stellt besonders APIs bereit, die beim [Aktivieren mehrerer Identitäten](#-enable-multi-identity-optional) nützlich sind.</span><span class="sxs-lookup"><span data-stu-id="479af-346">Notably, it exposes APIs that are useful for [Enabling multi-identity](#-enable-multi-identity-optional).</span></span>

#### <a name="intunemampolicyh"></a><span data-ttu-id="479af-347">IntuneMAMPolicy.h</span><span class="sxs-lookup"><span data-stu-id="479af-347">IntuneMAMPolicy.h</span></span>
<span data-ttu-id="479af-348">Die „IntuneMAMPolicy“-Klasse stellt die App-Schutzrichtlinie für Intune, die für die App bereitgestellt wurde, bereit.</span><span class="sxs-lookup"><span data-stu-id="479af-348">The IntuneMAMPolicy class exposes the Intune app protection policy deployed to the application.</span></span> <span data-ttu-id="479af-349">Die meisten der in dieser Klasse bereitgestellten Richtlinieneinstellungen werden vom SDK erzwungen, aber Sie haben immer die Möglichkeit, das Verhalten Ihrer App anzupassen, je nachdem, wie Richtlinieneinstellungen erzwungen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-349">Most the policy settings exposed in this class are enforced by the SDK, but you can always customize your app's behavior based on how policy settings are enforced.</span></span>

<span data-ttu-id="479af-350">Diese Klasse stellt einige APIs bereit, die für die Implementierung von „Speichern unter“-Steuerelementen benötigt werden; Details dazu finden Sie im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="479af-350">This class exposes some APIs needed to implement save-as controls, detailed in the next section.</span></span>

### <a name="implement-save-as-controls"></a><span data-ttu-id="479af-351">Implementieren von „Speichern unter“-Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="479af-351">Implement save-as controls</span></span>

<span data-ttu-id="479af-352">Mit Intune können IT-Administratoren auswählen, an welchem Speicherort eine verwaltete App Daten speichern kann.</span><span class="sxs-lookup"><span data-stu-id="479af-352">Intune lets IT admins select which storage locations a managed app can save data to.</span></span> <span data-ttu-id="479af-353">Mit der **isSaveToAllowedForLocation**-API können Apps das Intune-App SDK nach zulässigen Speicherorten abfragen, wie in **IntuneMAMPolicy.h** definiert.</span><span class="sxs-lookup"><span data-stu-id="479af-353">Apps can query the Intune App SDK for allowed storage locations by using the **isSaveToAllowedForLocation** API, defined in **IntuneMAMPolicy.h**.</span></span>

<span data-ttu-id="479af-354">Bevor Apps verwaltete Daten in einem Cloudspeicher oder einem lokalen Pfad speichern können, müssen sie mit der **isSaveToAllowedForLocation**-API überprüfen, ob der IT-Administrator erlaubt hat, die Daten dort zu speichern.</span><span class="sxs-lookup"><span data-stu-id="479af-354">Before apps can save managed data to a cloud-storage or local location, they must check with the **isSaveToAllowedForLocation** API to know if the IT admin has allowed data to be saved there.</span></span>

<span data-ttu-id="479af-355">Bei Verwendung der **isSaveToAllowedForLocation**-API müssen Apps den UPN für den Speicherort einreichen, falls er verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="479af-355">When apps use the **isSaveToAllowedForLocation** API, they must pass in the UPN for the storage location, if it is available.</span></span>

#### <a name="supported-save-locations"></a><span data-ttu-id="479af-356">Unterstützte Speicherorte</span><span class="sxs-lookup"><span data-stu-id="479af-356">Supported save locations</span></span>

<span data-ttu-id="479af-357">Die **isSaveToAllowedForLocation**-API stellt Konstanten bereit, um zu prüfen, ob der IT-Administrator das Speichern von Daten an folgenden Orten erlaubt, wie in IntuneMAMPolicy.h definiert:</span><span class="sxs-lookup"><span data-stu-id="479af-357">The **isSaveToAllowedForLocation** API provides constants to check whether the IT admin permits data to be saved to the following locations defined in IntuneMAMPolicy.h:</span></span>

* <span data-ttu-id="479af-358">IntuneMAMSaveLocationOther</span><span class="sxs-lookup"><span data-stu-id="479af-358">IntuneMAMSaveLocationOther</span></span>
* <span data-ttu-id="479af-359">IntuneMAMSaveLocationOneDriveForBusiness</span><span class="sxs-lookup"><span data-stu-id="479af-359">IntuneMAMSaveLocationOneDriveForBusiness</span></span>
* <span data-ttu-id="479af-360">IntuneMAMSaveLocationSharePoint</span><span class="sxs-lookup"><span data-stu-id="479af-360">IntuneMAMSaveLocationSharePoint</span></span>
* <span data-ttu-id="479af-361">IntuneMAMSaveLocationLocalDrive</span><span class="sxs-lookup"><span data-stu-id="479af-361">IntuneMAMSaveLocationLocalDrive</span></span>

<span data-ttu-id="479af-362">Apps sollten die Konstanten in der **isSaveToAllowedForLocation**-API verwenden, um zu überprüfen, ob Daten an Speicherorten gespeichert werden können, die als „verwaltet“ (z. B. OneDrive for Business) oder „privat“ gelten.</span><span class="sxs-lookup"><span data-stu-id="479af-362">Apps should use the constants in the **isSaveToAllowedForLocation** API to check if data can be saved to locations considered "managed," like OneDrive for Business, or "personal."</span></span> <span data-ttu-id="479af-363">Darüber hinaus sollte die API verwendet werden, wenn die App nicht ermitteln kann, ob es sich um „verwaltete“ oder „private“ Speicherorte handelt.</span><span class="sxs-lookup"><span data-stu-id="479af-363">Additionally, the API should be used when the app can't check whether a location is "managed" or "personal."</span></span>

<span data-ttu-id="479af-364">Persönliche Speicherorte werden durch die Konstante `IntuneMAMSaveLocationOther` repräsentiert.</span><span class="sxs-lookup"><span data-stu-id="479af-364">Locations known to be "personal" are represented by the `IntuneMAMSaveLocationOther` constant.</span></span>

<span data-ttu-id="479af-365">Die Konstante `IntuneMAMSaveLocationLocalDrive` sollte verwendet werden, wenn die App Daten an einem beliebigen Speicherort auf dem lokalen Gerät speichert.</span><span class="sxs-lookup"><span data-stu-id="479af-365">The `IntuneMAMSaveLocationLocalDrive` constant should be used when the app is saving data to any location on the local device.</span></span>

## <a name="configure-settings-for-the-intune-app-sdk"></a><span data-ttu-id="479af-366">Konfigurieren der Einstellungen für Intune App SDK</span><span class="sxs-lookup"><span data-stu-id="479af-366">Configure settings for the Intune App SDK</span></span>

<span data-ttu-id="479af-367">Sie können das Wörterbuch **IntuneMAMSettings** in der Datei „info.plist“ der Anwendung verwenden, um das Intune App SDK einzurichten und zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="479af-367">You can use the **IntuneMAMSettings** dictionary in the application’s Info.plist file to set up and configure the Intune App SDK.</span></span> <span data-ttu-id="479af-368">Wenn das IntuneMAMSettings-Wörterbuch in der Datei „Info.plist“ nicht angezeigt wird, sollten Sie ein Wörterbuch in der „Info.plist“ Ihrer App mit dem Feldnamen „IntuneMAMSettings.“ erstellen.</span><span class="sxs-lookup"><span data-stu-id="479af-368">If the IntuneMAMSettings dictionary is not seen in your Info.plist file, you should create a dictionary in your app's Info.plist with the field name "IntuneMAMSettings."</span></span>

<span data-ttu-id="479af-369">Im IntuneMAMSettings-Wörterbuch können Sie Schlüssel-Wert-Zeilen mit Konfigurationseinstellungen zum Konfigurieren des SDK hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="479af-369">Under the IntuneMAMSettings dictionary, you can add key/value rows of configuration settings to configure the SDK.</span></span> <span data-ttu-id="479af-370">Die folgende Tabelle enthält eine Liste aller unterstützten Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="479af-370">The table below lists all supported settings.</span></span>

<span data-ttu-id="479af-371">Einige dieser Einstellungen wurden möglicherweise schon in vorherigen Abschnitten erörtert, und einige gelten nicht für alle Apps.</span><span class="sxs-lookup"><span data-stu-id="479af-371">Some of these settings might have been covered in previous sections, and some do not apply to all apps.</span></span>

<span data-ttu-id="479af-372">Einstellung</span><span class="sxs-lookup"><span data-stu-id="479af-372">Setting</span></span>  | <span data-ttu-id="479af-373">Typ</span><span class="sxs-lookup"><span data-stu-id="479af-373">Type</span></span>  | <span data-ttu-id="479af-374">Definition</span><span class="sxs-lookup"><span data-stu-id="479af-374">Definition</span></span> | <span data-ttu-id="479af-375">Erforderlich?</span><span class="sxs-lookup"><span data-stu-id="479af-375">Required?</span></span>
--       |  --   |   --       |  --
<span data-ttu-id="479af-376">ADALClientId</span><span class="sxs-lookup"><span data-stu-id="479af-376">ADALClientId</span></span>  | <span data-ttu-id="479af-377">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-377">String</span></span>  | <span data-ttu-id="479af-378">Die Azure AD-Client-ID der App.</span><span class="sxs-lookup"><span data-stu-id="479af-378">The app’s Azure AD client identifier.</span></span> | <span data-ttu-id="479af-379">Erforderlich, wenn die App ADAL verwendet</span><span class="sxs-lookup"><span data-stu-id="479af-379">Required if the app uses ADAL.</span></span> |
<span data-ttu-id="479af-380">ADALAuthority</span><span class="sxs-lookup"><span data-stu-id="479af-380">ADALAuthority</span></span> | <span data-ttu-id="479af-381">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-381">String</span></span> | <span data-ttu-id="479af-382">Die aktive Azure AD-Autorität.</span><span class="sxs-lookup"><span data-stu-id="479af-382">The app's Azure AD authority in use.</span></span> <span data-ttu-id="479af-383">Dort wo AAD-Konten konfiguriert wurden, sollten Sie Ihre eigene Umgebung verwenden.</span><span class="sxs-lookup"><span data-stu-id="479af-383">You should use your own environment where AAD accounts have been configured.</span></span> | <span data-ttu-id="479af-384">Erforderlich, wenn die App ADAL verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-384">Required if the app uses ADAL.</span></span> <span data-ttu-id="479af-385">Wenn dieser Wert nicht vorhanden ist, wird der Intune-Standard verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-385">If this value is absent, an Intune default is used.</span></span>|
<span data-ttu-id="479af-386">ADALRedirectUri</span><span class="sxs-lookup"><span data-stu-id="479af-386">ADALRedirectUri</span></span>  | <span data-ttu-id="479af-387">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-387">String</span></span>  | <span data-ttu-id="479af-388">Der Azure AD-Umleitungs-URI der App.</span><span class="sxs-lookup"><span data-stu-id="479af-388">The app’s Azure AD redirect URI.</span></span> | <span data-ttu-id="479af-389">ADALRedirectUri oder ADALRedirectScheme ist erforderlich, wenn die App ADAL verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-389">ADALRedirectUri or ADALRedirectScheme is required if the app uses ADAL.</span></span>  |
<span data-ttu-id="479af-390">ADALRedirectScheme</span><span class="sxs-lookup"><span data-stu-id="479af-390">ADALRedirectScheme</span></span>  | <span data-ttu-id="479af-391">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-391">String</span></span>  | <span data-ttu-id="479af-392">Das Azure AD-Umleitungsschema der App.</span><span class="sxs-lookup"><span data-stu-id="479af-392">The app's Azure AD redirect scheme.</span></span> <span data-ttu-id="479af-393">Dieses kann anstelle von ADALRedirectUri verwendet werden, wenn der Umleitungs-URI der App im `scheme://bundle_id`-Format ist.</span><span class="sxs-lookup"><span data-stu-id="479af-393">This can be used in place of ADALRedirectUri if the application's redirect URI is in the format `scheme://bundle_id`.</span></span> | <span data-ttu-id="479af-394">ADALRedirectUri oder ADALRedirectScheme ist erforderlich, wenn die App ADAL verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-394">ADALRedirectUri or ADALRedirectScheme is required if the app uses ADAL.</span></span> |
<span data-ttu-id="479af-395">ADALLogOverrideDisabled</span><span class="sxs-lookup"><span data-stu-id="479af-395">ADALLogOverrideDisabled</span></span> | <span data-ttu-id="479af-396">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-396">Boolean</span></span>  | <span data-ttu-id="479af-397">Gibt an, ob das SDK alle ADAL-Protokolle (einschließlich ADAL-Aufrufe von der App, sofern zutreffend) in die eigene Protokolldatei einschließt.</span><span class="sxs-lookup"><span data-stu-id="479af-397">Specifies whether the SDK will route all ADAL logs (including ADAL calls from the app, if any) to its own log file.</span></span> <span data-ttu-id="479af-398">Standardwert ist "NO".</span><span class="sxs-lookup"><span data-stu-id="479af-398">Defaults to NO.</span></span> <span data-ttu-id="479af-399">Legen Sie den Wert auf „YES“ fest, wenn die App einen eigenen ADAL-Protokollrückruf festlegt.</span><span class="sxs-lookup"><span data-stu-id="479af-399">Set to YES if the app will set its own ADAL log callback.</span></span> | <span data-ttu-id="479af-400">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-400">Optional.</span></span> |
<span data-ttu-id="479af-401">ADALCacheKeychainGroupOverride</span><span class="sxs-lookup"><span data-stu-id="479af-401">ADALCacheKeychainGroupOverride</span></span> | <span data-ttu-id="479af-402">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-402">String</span></span>  | <span data-ttu-id="479af-403">Gibt die Schlüsselbundgruppe an, die für den ADAL-Cache anstelle von „com.microsoft.adalcache“ verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="479af-403">Specifies the keychain group to use for the ADAL cache, instead of “com.microsoft.adalcache."</span></span> <span data-ttu-id="479af-404">Beachten Sie, dass diese das App-ID-Präfix nicht enthält.</span><span class="sxs-lookup"><span data-stu-id="479af-404">Note that this doesn’t have the app-id prefix.</span></span> <span data-ttu-id="479af-405">Dieses wird der gegebenen Zeichenfolge zur Laufzeit vorangestellt.</span><span class="sxs-lookup"><span data-stu-id="479af-405">That will be prefixed to the provided string at runtime.</span></span> | <span data-ttu-id="479af-406">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-406">Optional.</span></span> |
<span data-ttu-id="479af-407">AppGroupIdentifiers</span><span class="sxs-lookup"><span data-stu-id="479af-407">AppGroupIdentifiers</span></span> | <span data-ttu-id="479af-408">Zeichenfolgenarray</span><span class="sxs-lookup"><span data-stu-id="479af-408">Array of string</span></span>  | <span data-ttu-id="479af-409">Ein Array mit App-Gruppen aus dem Berechtigungsabschnitt "com.apple.security.application-groups" der App.</span><span class="sxs-lookup"><span data-stu-id="479af-409">Array of app groups from the app’s entitlements com.apple.security.application-groups section.</span></span> | <span data-ttu-id="479af-410">Erforderlich, wenn die App Anwendungsgruppen verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-410">Required if the app uses application groups.</span></span> |
<span data-ttu-id="479af-411">ContainingAppBundleId</span><span class="sxs-lookup"><span data-stu-id="479af-411">ContainingAppBundleId</span></span> | <span data-ttu-id="479af-412">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-412">String</span></span> | <span data-ttu-id="479af-413">Gibt die Paket-ID der Anwendung an, die die Erweiterung enthält.</span><span class="sxs-lookup"><span data-stu-id="479af-413">Specifies the bundle ID of the extension’s containing application.</span></span> | <span data-ttu-id="479af-414">Erforderlich für iOS-Extensions.</span><span class="sxs-lookup"><span data-stu-id="479af-414">Required for iOS extensions.</span></span> |
<span data-ttu-id="479af-415">DebugSettingsEnabled</span><span class="sxs-lookup"><span data-stu-id="479af-415">DebugSettingsEnabled</span></span>| <span data-ttu-id="479af-416">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-416">Boolean</span></span> | <span data-ttu-id="479af-417">Bei der Einstellung JA können innerhalb des Einstellungspakets Testrichtlinien angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="479af-417">If set to YES, test policies within the Settings bundle can be applied.</span></span> <span data-ttu-id="479af-418">Diese Einstellungen sollte bei ausgelieferten Anwendungen *nicht* aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="479af-418">Applications should *not* be shipped with this setting enabled.</span></span> | <span data-ttu-id="479af-419">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-419">Optional.</span></span> |
<span data-ttu-id="479af-420">MainNibFile</span><span class="sxs-lookup"><span data-stu-id="479af-420">MainNibFile</span></span><br><span data-ttu-id="479af-421">MainNibFile~ipad</span><span class="sxs-lookup"><span data-stu-id="479af-421">MainNibFile~ipad</span></span>  | <span data-ttu-id="479af-422">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-422">String</span></span>  | <span data-ttu-id="479af-423">Diese Einstellung sollte den Namen der Haupt-NIB-Datei der Anwendung enthalten.</span><span class="sxs-lookup"><span data-stu-id="479af-423">This setting should have the application’s main nib file name.</span></span>  | <span data-ttu-id="479af-424">Erforderlich, wenn MainNibFile für die Anwendung in der Datei „Info.plist“ definiert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-424">Required if the application defines MainNibFile in Info.plist.</span></span> |
<span data-ttu-id="479af-425">MainStoryboardFile</span><span class="sxs-lookup"><span data-stu-id="479af-425">MainStoryboardFile</span></span><br><span data-ttu-id="479af-426">MainStoryboardFile~ipad</span><span class="sxs-lookup"><span data-stu-id="479af-426">MainStoryboardFile~ipad</span></span>  | <span data-ttu-id="479af-427">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-427">String</span></span>  | <span data-ttu-id="479af-428">Diese Einstellung sollte den Namen der Haupt-Storyboard-Datei der Anwendung enthalten.</span><span class="sxs-lookup"><span data-stu-id="479af-428">This setting should have the application’s main storyboard file name.</span></span> | <span data-ttu-id="479af-429">Erforderlich, wenn UIMainStoryboardFile für die Anwendung in der Datei „Info.plist“ definiert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-429">Required if the application defines UIMainStoryboardFile in Info.plist.</span></span> |
<span data-ttu-id="479af-430">AutoEnrollOnLaunch</span><span class="sxs-lookup"><span data-stu-id="479af-430">AutoEnrollOnLaunch</span></span>| <span data-ttu-id="479af-431">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-431">Boolean</span></span>| <span data-ttu-id="479af-432">Gibt an, ob die App versuchen soll, sich beim Start automatisch zu registrieren, wenn eine vorhandene verwaltete Identität erkannt wurde und dies noch nicht passiert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-432">Specifies whether the app should attempt to automatically enroll on launch if an existing managed identity is detected and it has not yet done so.</span></span> <span data-ttu-id="479af-433">Standardwert ist "NO".</span><span class="sxs-lookup"><span data-stu-id="479af-433">Defaults to NO.</span></span> <br><br> <span data-ttu-id="479af-434">Hinweise: Wenn keine verwaltete Identität gefunden wird oder kein gültiges Token für die Identität im ADAL-Cache verfügbar ist, schlägt die Registrierung ohne die Anforderung nach Anmeldeinformationen im Hintergrund fehl, es sei denn, MAMPolicyRequired ist auf JA festgelegt.</span><span class="sxs-lookup"><span data-stu-id="479af-434">Notes: If no managed identity is found or no valid token for the identity is available in the ADAL cache, the enrollment attempt will silently fail without prompting for credentials, unless the app has also set MAMPolicyRequired to YES.</span></span> | <span data-ttu-id="479af-435">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-435">Optional.</span></span> |
<span data-ttu-id="479af-436">MAMPolicyRequired</span><span class="sxs-lookup"><span data-stu-id="479af-436">MAMPolicyRequired</span></span>| <span data-ttu-id="479af-437">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-437">Boolean</span></span>| <span data-ttu-id="479af-438">Gibt an, ob das Starten der App blockiert ist, wenn die App über keine Intune App-Schutzrichtlinie verfügt.</span><span class="sxs-lookup"><span data-stu-id="479af-438">Specifies whether the app will be blocked from starting if the app does not have an Intune app protection policy.</span></span> <span data-ttu-id="479af-439">Standardwert ist "NO".</span><span class="sxs-lookup"><span data-stu-id="479af-439">Defaults to NO.</span></span> <br><br> <span data-ttu-id="479af-440">Hinweise: Apps, bei denen die MAMPolicyRequired-Einstellung auf „JA“ festgelegt ist, können nicht im App Store eingereicht werden.</span><span class="sxs-lookup"><span data-stu-id="479af-440">Notes: Apps cannot be submitted to the App Store with MAMPolicyRequired set to YES.</span></span> <span data-ttu-id="479af-441">Wenn MAMPolicyRequired auf JA festgelegt wird, muss auch AutoEnrollOnLaunch auf JA festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-441">When setting MAMPolicyRequired to YES, AutoEnrollOnLaunch should also be set to YES.</span></span> | <span data-ttu-id="479af-442">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-442">Optional.</span></span> |
<span data-ttu-id="479af-443">MAMPolicyWarnAbsent</span><span class="sxs-lookup"><span data-stu-id="479af-443">MAMPolicyWarnAbsent</span></span> | <span data-ttu-id="479af-444">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-444">Boolean</span></span>| <span data-ttu-id="479af-445">Gibt an, ob die App den Benutzer beim Start warnt, wenn die App keine App-Schutzrichtlinie für Intune hat.</span><span class="sxs-lookup"><span data-stu-id="479af-445">Specifies whether the app will warn the user during launch if the app does not have an Intune app protection policy.</span></span> <br><br> <span data-ttu-id="479af-446">Hinweis: Benutzer dürfen noch immer die App ohne Richtlinie verwenden, nachdem die Warnung verworfen wurde.</span><span class="sxs-lookup"><span data-stu-id="479af-446">Note: Users will still be allowed to use the app without policy after dismissing the warning.</span></span> | <span data-ttu-id="479af-447">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-447">Optional.</span></span> |
<span data-ttu-id="479af-448">MultiIdentity</span><span class="sxs-lookup"><span data-stu-id="479af-448">MultiIdentity</span></span> | <span data-ttu-id="479af-449">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-449">Boolean</span></span>| <span data-ttu-id="479af-450">Gibt an, ob die App den Umgang mit mehreren Identitäten beherrscht.</span><span class="sxs-lookup"><span data-stu-id="479af-450">Specifies whether the app is multi-identity aware.</span></span> | <span data-ttu-id="479af-451">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-451">Optional.</span></span> |
<span data-ttu-id="479af-452">SplashIconFile</span><span class="sxs-lookup"><span data-stu-id="479af-452">SplashIconFile</span></span> <br><span data-ttu-id="479af-453">SplashIconFile~ipad</span><span class="sxs-lookup"><span data-stu-id="479af-453">SplashIconFile~ipad</span></span> | <span data-ttu-id="479af-454">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-454">String</span></span>  | <span data-ttu-id="479af-455">Gibt die Datei für das Intune-Begrüßungssymbol (Startsymbol) an.</span><span class="sxs-lookup"><span data-stu-id="479af-455">Specifies the Intune splash (startup) icon file.</span></span> | <span data-ttu-id="479af-456">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-456">Optional.</span></span> |
<span data-ttu-id="479af-457">SplashDuration</span><span class="sxs-lookup"><span data-stu-id="479af-457">SplashDuration</span></span> | <span data-ttu-id="479af-458">Zahl</span><span class="sxs-lookup"><span data-stu-id="479af-458">Number</span></span> | <span data-ttu-id="479af-459">Mindestdauer in Sekunden, für die der Intune Startbildschirm beim Anwendungsstart angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="479af-459">Minimum amount of time, in seconds, that the Intune startup screen will be shown at application launch.</span></span> <span data-ttu-id="479af-460">Standardwert ist 1,5.</span><span class="sxs-lookup"><span data-stu-id="479af-460">Defaults to 1.5.</span></span> | <span data-ttu-id="479af-461">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-461">Optional.</span></span> |
<span data-ttu-id="479af-462">BackgroundColor</span><span class="sxs-lookup"><span data-stu-id="479af-462">BackgroundColor</span></span>| <span data-ttu-id="479af-463">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-463">String</span></span>| <span data-ttu-id="479af-464">Gibt die Hintergrundfarbe für den Start- und den PIN-Bildschirm an.</span><span class="sxs-lookup"><span data-stu-id="479af-464">Specifies the background color for the startup and PIN screens.</span></span> <span data-ttu-id="479af-465">Akzeptiert eine hexadezimale RGB-Zeichenfolge im Format „#XXXXXX“, wobei X Werte von 0-9 bzw. A-F annehmen kann.</span><span class="sxs-lookup"><span data-stu-id="479af-465">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="479af-466">Das Gatterzeichen kann ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-466">The pound sign might be omitted.</span></span>   | <span data-ttu-id="479af-467">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-467">Optional.</span></span> <span data-ttu-id="479af-468">Der Standardwert ist „Hellgrau“.</span><span class="sxs-lookup"><span data-stu-id="479af-468">Defaults to light grey.</span></span> |
<span data-ttu-id="479af-469">ForegroundColor</span><span class="sxs-lookup"><span data-stu-id="479af-469">ForegroundColor</span></span>| <span data-ttu-id="479af-470">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-470">String</span></span>| <span data-ttu-id="479af-471">Gibt die Vordergrundfarbe für den Start- und den PIN-Bildschirm an, etwa die Textfarbe.</span><span class="sxs-lookup"><span data-stu-id="479af-471">Specifies the foreground color for the startup and PIN screens, like text color.</span></span> <span data-ttu-id="479af-472">Nimmt eine hexadezimale RGB-Zeichenfolge der Form #XXXXXX an, wobei X zwischen 0 und 9 oder A und F liegen kann.</span><span class="sxs-lookup"><span data-stu-id="479af-472">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="479af-473">Das Gatterzeichen kann ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-473">The pound sign might be omitted.</span></span>  | <span data-ttu-id="479af-474">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-474">Optional.</span></span> <span data-ttu-id="479af-475">Der Standardwert ist „Schwarz“.</span><span class="sxs-lookup"><span data-stu-id="479af-475">Defaults to black.</span></span> |
<span data-ttu-id="479af-476">AccentColor</span><span class="sxs-lookup"><span data-stu-id="479af-476">AccentColor</span></span> | <span data-ttu-id="479af-477">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="479af-477">String</span></span>| <span data-ttu-id="479af-478">Gibt die Akzentfarbe für den PIN-Bildschirm an, etwa die Textfarbe einer Schaltfläche oder die Hervorhebungsfarbe für ein Feld.</span><span class="sxs-lookup"><span data-stu-id="479af-478">Specifies the accent color for the PIN screen, like button text color and box highlight color.</span></span> <span data-ttu-id="479af-479">Akzeptiert eine hexadezimale RGB-Zeichenfolge im Format „#XXXXXX“, wobei X Werte von 0-9 bzw. A-F annehmen kann.</span><span class="sxs-lookup"><span data-stu-id="479af-479">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="479af-480">Das Gatterzeichen kann ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-480">The pound sign might be omitted.</span></span>| <span data-ttu-id="479af-481">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-481">Optional.</span></span> <span data-ttu-id="479af-482">Der Standardwert ist „Blau“ (Systemfarbe).</span><span class="sxs-lookup"><span data-stu-id="479af-482">Defaults to system blue.</span></span> |
<span data-ttu-id="479af-483">MAMTelemetryDisabled</span><span class="sxs-lookup"><span data-stu-id="479af-483">MAMTelemetryDisabled</span></span>| <span data-ttu-id="479af-484">Boolesch</span><span class="sxs-lookup"><span data-stu-id="479af-484">Boolean</span></span>| <span data-ttu-id="479af-485">Gibt an, ob das SDK keine Telemetriedaten an sein Back-End sendet.</span><span class="sxs-lookup"><span data-stu-id="479af-485">Specifies if the SDK will not send any telemetry data to its back end.</span></span>| <span data-ttu-id="479af-486">(Optional)</span><span class="sxs-lookup"><span data-stu-id="479af-486">Optional.</span></span> |
<span data-ttu-id="479af-487">WebViewHandledURLSchemes</span><span class="sxs-lookup"><span data-stu-id="479af-487">WebViewHandledURLSchemes</span></span> | <span data-ttu-id="479af-488">Array von Zeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="479af-488">Array of Strings</span></span> | <span data-ttu-id="479af-489">Gibt die URL-Schemas an, die WebView für Ihre App verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="479af-489">Specifies the URL schemes that your app's WebView handles.</span></span> | <span data-ttu-id="479af-490">Erforderlich, wenn Ihre App WebView verwendet, das URLs über Verknüpfungen und/oder JavaScript verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="479af-490">Required if your app uses a WebView that handles URLs via links and/or javascript.</span></span> |  

> [!NOTE]
> <span data-ttu-id="479af-491">Gemäß den App Store-Standards muss `MAMPolicyRequired` auf „NO“ festgelegt sein, wenn Ihre App im App Store veröffentlicht werden soll.</span><span class="sxs-lookup"><span data-stu-id="479af-491">If your app will be released to the App Store, `MAMPolicyRequired` must be set to "NO," per App Store standards.</span></span>

## <a name="enabling-mam-targeted-configuration-for-your-ios-applications"></a><span data-ttu-id="479af-492">Aktivieren der MAM-Zielkonfiguration für Ihre iOS-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="479af-492">Enabling MAM targeted configuration for your iOS applications</span></span>
<span data-ttu-id="479af-493">Die MAM-Zielkonfiguration ermöglicht, dass eine App Konfigurationsdaten über das Intune App SDK erhalten kann.</span><span class="sxs-lookup"><span data-stu-id="479af-493">MAM targeted configuration allows an app to receive configuration data through the Intune App SDK.</span></span> <span data-ttu-id="479af-494">Das Format und die Varianten dieser Daten müssen definiert und Intune-Kunden vom Besitzer oder Entwickler der Anwendung mitgeteilt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-494">The format and variants of this data must be defined and communicated to Intune customers by the application owner/developer.</span></span> <span data-ttu-id="479af-495">Intune-Administratoren können Konfigurationsdaten über das Intune Azure-Portal als Ziel festlegen und bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="479af-495">Intune administrators can target and deploy configuration data via the Intune Azure portal.</span></span> <span data-ttu-id="479af-496">Beim Intune App SDK für iOS (Version 7.0.1) können Apps, die an der MAM-Zielkonfiguration teilnehmen, über den MAM-Dienst mit MAM-Zielkonfigurationsdaten versorgt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-496">As of the Intune App SDK for iOS (v 7.0.1), apps that are participating in MAM targeted configuration can be provded MAM targeted configuration data via the MAM Service.</span></span> <span data-ttu-id="479af-497">Die Anwendungskonfigurationsdaten werden durch unseren MAM-Dienst direkt an die App übertragen, und nicht über den MDM-Kanal.</span><span class="sxs-lookup"><span data-stu-id="479af-497">The application configuration data is pushed through our MAM Service directly to the app instead of through the MDM channel.</span></span> <span data-ttu-id="479af-498">Das Intune App SDK stellt eine Klasse für den Zugriff auf die Daten bereit, die aus diesen Konsolen abgerufen wurden.</span><span class="sxs-lookup"><span data-stu-id="479af-498">The Intune App SDK provides a class to access the data retrieved from these consoles.</span></span> <span data-ttu-id="479af-499">Folgende Voraussetzungen sind erforderlich:</span><span class="sxs-lookup"><span data-stu-id="479af-499">Consider the following as prerequisites:</span></span> <br>

* <span data-ttu-id="479af-500">Die App muss für MAM-WE registriert werden, bevor Sie auf die Benutzeroberfläche der MAM-Zielkonfiguration zugreifen.</span><span class="sxs-lookup"><span data-stu-id="479af-500">The app needs to be MAM-WE enrolled before you access the MAM targeted config UI.</span></span> <span data-ttu-id="479af-501">Weitere Informationen zu MAM-WE finden Sie unter [App-Schutzrichtlinie ohne Geräteregistrierung im Intune App SDK-Entwicklerhandbuch](https://docs.microsoft.com/en-us/intune/app-sdk-ios#app-protection-policy-without-device-enrollment).</span><span class="sxs-lookup"><span data-stu-id="479af-501">For more information about MAM-WE, see [App protection policy without device enrollment in the Intune App SDK guide](https://docs.microsoft.com/en-us/intune/app-sdk-ios#app-protection-policy-without-device-enrollment).</span></span>
* <span data-ttu-id="479af-502">In der Quelldatei der App muss ```IntuneMAMAppConfigManager.h``` enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="479af-502">Include ```IntuneMAMAppConfigManager.h``` in your app's source file.</span></span>
* <span data-ttu-id="479af-503">Rufen Sie ```[[IntuneMAMAppConfig instance] appConfigForIdentity:]``` auf, um das App-Konfigurationsobjekt zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="479af-503">Call ```[[IntuneMAMAppConfig instance] appConfigForIdentity:]``` to get the App Config Object.</span></span>
* <span data-ttu-id="479af-504">Rufen Sie den entsprechenden Selektor auf dem Objekt ```IntuneMAMAppConfig``` auf.</span><span class="sxs-lookup"><span data-stu-id="479af-504">Call the appropriate selector on ```IntuneMAMAppConfig``` object.</span></span> <span data-ttu-id="479af-505">Wenn es sich zum Beispiel beim Schlüssel Ihrer Anwendung um eine Zeichenfolge handeln, könnten Sie ```stringValueForKey``` oder ```allStringsForKey``` verwenden.</span><span class="sxs-lookup"><span data-stu-id="479af-505">For example, if your application's key is a string, you'd want to use ```stringValueForKey``` or ```allStringsForKey```.</span></span> <span data-ttu-id="479af-506">Die Datei ```IntuneMAMAppConfig.h header``` enthält Rückgabewerte und Fehlerbedingungen.</span><span class="sxs-lookup"><span data-stu-id="479af-506">The ```IntuneMAMAppConfig.h header``` file talks about return values/error conditions.</span></span>

<span data-ttu-id="479af-507">Weitere Informationen zu den Funktionen der Graph-API in Bezug auf die MAM-Zielkonfigurationswerte finden Sie unter [Graph API Reference MAM Targeted Config (Graph-API-Referenz für MAM-Zielkonfigurationen)](https://graph.microsoft.io/en-us/docs/api-reference/beta/api/intune_mam_targetedmanagedappconfiguration_create).</span><span class="sxs-lookup"><span data-stu-id="479af-507">For more information about the capabilities of the Graph API with respect to the MAM targeted configuration values, see [Graph API Reference MAM Targeted Config](https://graph.microsoft.io/en-us/docs/api-reference/beta/api/intune_mam_targetedmanagedappconfiguration_create).</span></span> <br>


<span data-ttu-id="479af-508">Weitere Informationen zum Erstellen einer MAM-Zielkonfigurationsrichtlinie für Apps in iOS finden Sie im Abschnitt zu MAM-Zielkonfiguration für Apps unter [How to use Microsoft Intune app configuration policies for iOS (Verwenden von Microsoft Intune-App-Konfigurationsrichtlinien für iOS)](https://docs.microsoft.com/en-us/intune/app-configuration-policies-use-ios).</span><span class="sxs-lookup"><span data-stu-id="479af-508">For more information about how to create a MAM targeted app configuration policy in iOS, see the section on MAM targeted app config in [How to use Microsoft Intune app configuration policies for iOS](https://docs.microsoft.com/en-us/intune/app-configuration-policies-use-ios).</span></span>

## <a name="telemetry"></a><span data-ttu-id="479af-509">Telemetrie</span><span class="sxs-lookup"><span data-stu-id="479af-509">Telemetry</span></span>

<span data-ttu-id="479af-510">Standardmäßig protokolliert das Intune App SDK für iOS Telemetriedaten zu den folgenden Nutzungsereignissen.</span><span class="sxs-lookup"><span data-stu-id="479af-510">By default, the Intune App SDK for iOS logs telemetry data on the following usage events.</span></span> <span data-ttu-id="479af-511">Diese Daten werden an Microsoft Intune gesendet.</span><span class="sxs-lookup"><span data-stu-id="479af-511">This data is sent to Microsoft Intune.</span></span>

* <span data-ttu-id="479af-512">**Start der App**: Übermittelt an Microsoft Intune Daten zur Nutzung von MAM-aktivierten Apps nach Verwaltungsart (MAM mit MDM, MAM ohne MDM-Registrierung usw.).</span><span class="sxs-lookup"><span data-stu-id="479af-512">**App launch**: To help Microsoft Intune learn about MAM-enabled app usage by management type (MAM with MDM, MAM without MDM enrollment, and so on).</span></span>

* <span data-ttu-id="479af-513">**Registrierungsaufruf**: Übermittelt die Erfolgsquote und andere Leistungsindikatoren von Registrierungsaufrufen, die von der Clientseite initiiert wurden,an Microsoft Intune.</span><span class="sxs-lookup"><span data-stu-id="479af-513">**Enrollment calls**: To help Microsoft Intune learn about success rate and other performance metrics of enrollment calls initiated from the client side.</span></span>

> [!NOTE]
> <span data-ttu-id="479af-514">Wenn von Ihrer mobilen Anwendung keine Intune App SDK-Telemetriedaten an Microsoft Intune gesendet werden sollen, müssen Sie die Intune App SDK-Telemetrieerfassung deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="479af-514">If you choose not to send Intune App SDK telemetry data to Microsoft Intune from your mobile application, you must disable Intune App SDK telemetry capture.</span></span> <span data-ttu-id="479af-515">Legen Sie die Eigenschaft `MAMTelemetryDisabled` im IntuneMAMSettings-Wörterbuch auf „YES“ fest.</span><span class="sxs-lookup"><span data-stu-id="479af-515">Set the property `MAMTelemetryDisabled` to YES in the IntuneMAMSettings dictionary.</span></span>

## <a name="enable-multi-identity-optional"></a><span data-ttu-id="479af-516">Aktivieren von Multi-Identity (optional)</span><span class="sxs-lookup"><span data-stu-id="479af-516">Enable multi-identity (optional)</span></span>

<span data-ttu-id="479af-517">Standardmäßig wird eine Richtlinie vom SDK auf die gesamte App angewendet.</span><span class="sxs-lookup"><span data-stu-id="479af-517">By default, the SDK applies a policy to the app as a whole.</span></span> <span data-ttu-id="479af-518">Die Unterstützung für mehrere Identitäten ist ein MAM-Feature, das Sie aktivieren können, um eine Richtlinie auf der Ebene einzelner Identitäten anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="479af-518">Multi-identity is a MAM feature that you can enable to apply a policy on a per-identity level.</span></span> <span data-ttu-id="479af-519">Dies erfordert eine stärkere Beteiligung der App als andere MAM-Features.</span><span class="sxs-lookup"><span data-stu-id="479af-519">This requires more app participation than other MAM features.</span></span>

<span data-ttu-id="479af-520">Die App muss das App-SDK informieren, wenn sie die Änderung der aktiven Identität beabsichtigt.</span><span class="sxs-lookup"><span data-stu-id="479af-520">The app must inform the app SDK when it intends to change the active identity.</span></span> <span data-ttu-id="479af-521">Das SDK benachrichtigt seinerseits die App, wenn eine Änderung der Identität erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="479af-521">The SDK also notifies the app when an identity change is required.</span></span> <span data-ttu-id="479af-522">Aktuell wird nur eine verwaltete Identität unterstützt.</span><span class="sxs-lookup"><span data-stu-id="479af-522">Currently, only one managed identity is supported.</span></span> <span data-ttu-id="479af-523">Nachdem der Benutzer das Gerät oder die App registriert hat, verwendet das SDK die dabei verwendete Identität und betrachtet sie als die primäre verwaltete Identität.</span><span class="sxs-lookup"><span data-stu-id="479af-523">After the user enrolls the device or the app, the SDK uses this identity and considers it the primary managed identity.</span></span> <span data-ttu-id="479af-524">Andere Benutzer der App werden als nicht verwaltet mit uneingeschränkten Richtlinieneinstellungen behandelt.</span><span class="sxs-lookup"><span data-stu-id="479af-524">Other users in the app will be treated as unmanaged with unrestricted policy settings.</span></span>

<span data-ttu-id="479af-525">Beachten Sie, dass eine Identität einfach nur als Zeichenfolge definiert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-525">Note that an identity is simply defined as a string.</span></span> <span data-ttu-id="479af-526">Bei Identitäten werden Groß- und Kleinschreibung nicht unterschieden.</span><span class="sxs-lookup"><span data-stu-id="479af-526">Identities are case-insensitive.</span></span> <span data-ttu-id="479af-527">Anforderungen einer Identität beim SDK werden möglicherweise nicht mit der gleichen Groß-/Kleinschreibung zurückgegeben, die ursprünglich beim Festlegen der Identität verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="479af-527">Requests to the SDK for an identity might not return the same casing that was originally used when the identity was set.</span></span>

### <a name="identity-overview"></a><span data-ttu-id="479af-528">Überblick: Identität</span><span class="sxs-lookup"><span data-stu-id="479af-528">Identity overview</span></span>

<span data-ttu-id="479af-529">Eine Identität ist einfach der Benutzername eines Kontos (z.B. user@contoso.com).</span><span class="sxs-lookup"><span data-stu-id="479af-529">An identity is simply the user name of an account (for example, user@contoso.com).</span></span> <span data-ttu-id="479af-530">Entwickler können die Identität der App auf folgenden Ebenen festlegen:</span><span class="sxs-lookup"><span data-stu-id="479af-530">Developers can set the identity of the app on the following levels:</span></span>

* <span data-ttu-id="479af-531">**Prozessidentität**: Legt die prozessweite Identität fest und wird in der Hauptsache für Anwendungen mit nur einer Identität verwendet.</span><span class="sxs-lookup"><span data-stu-id="479af-531">**Process identity**: Sets the process-wide identity and is mainly used for single identity applications.</span></span> <span data-ttu-id="479af-532">Diese Identität wirkt sich auf alle Aufgaben, Dateien und Benutzeroberflächen aus.</span><span class="sxs-lookup"><span data-stu-id="479af-532">This identity affects all tasks, files, and UI.</span></span>

* <span data-ttu-id="479af-533">**UI-Identität**: Legt fest, welche Richtlinien auf Benutzeroberflächenaufgaben im Hauptthread angewendet werden, z. B. Ausschneiden/Kopieren/Einfügen, PIN, Authentifizierung und Datenfreigabe.</span><span class="sxs-lookup"><span data-stu-id="479af-533">**UI identity**: Determines what policies are applied to UI tasks on the main thread, like cut/copy/paste, PIN, authentication, and data sharing.</span></span> <span data-ttu-id="479af-534">Die UI-Identität wirkt sich nicht auf Dateiaufgaben wie Verschlüsselung und Sicherung aus.</span><span class="sxs-lookup"><span data-stu-id="479af-534">The UI identity does not affect file tasks like encryption and backup.</span></span>

* <span data-ttu-id="479af-535">**Threadidentität**: Wirkt sich darauf aus, welche Richtlinien auf den aktuellen Thread angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="479af-535">**Thread identity**: Affects what policies are applied on the current thread.</span></span> <span data-ttu-id="479af-536">Diese Identität betrifft alle Aufgaben, Dateien und die Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="479af-536">This identity affects all tasks, files, and UI.</span></span>

<span data-ttu-id="479af-537">Es ist Aufgabe der App, die Identitäten passend für verwaltete und nicht verwaltete Benutzer festzulegen.</span><span class="sxs-lookup"><span data-stu-id="479af-537">The app is responsible for setting the identities appropriately, whether or not the user is managed.</span></span>

<span data-ttu-id="479af-538">Jeder Thread weist jederzeit eine effektive Identität für Benutzeroberflächen- und Dateiaufgaben auf.</span><span class="sxs-lookup"><span data-stu-id="479af-538">At any time, every thread has an effective identity for UI tasks and file tasks.</span></span> <span data-ttu-id="479af-539">Dies ist die Identität, mit der überprüft wird, welche Richtlinien, sofern zutreffend, angewendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="479af-539">This is the identity that's used to check what policies, if any, should be applied.</span></span> <span data-ttu-id="479af-540">Wenn die Identität „no identity“ ist oder der Benutzer nicht verwaltet ist, werden keine Richtlinien angewendet.</span><span class="sxs-lookup"><span data-stu-id="479af-540">If the identity is "no identity" or the user is not managed, no policies will be applied.</span></span> <span data-ttu-id="479af-541">Die unten stehenden Diagramme zeigen, wie effektive Identitäten bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-541">The diagrams below show how the effective identities are determined.</span></span>

  ![Intune App SDK iOS – verknüpfte Frameworks und Bibliotheken](./media/ios-thread-identities.png)

### <a name="thread-queues"></a><span data-ttu-id="479af-543">Thread-Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="479af-543">Thread queues</span></span>

<span data-ttu-id="479af-544">Apps senden oft asynchrone und synchrone Aufgaben an Threadwarteschlangen.</span><span class="sxs-lookup"><span data-stu-id="479af-544">Apps often dispatch asynchronous and synchronous tasks to thread queues.</span></span> <span data-ttu-id="479af-545">Das SDK fängt Aufrufe von Grand Central Dispatch (GCD) ab und verknüpft die aktuelle Threadidentität mit den gesendeten Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="479af-545">The SDK intercepts Grand Central Dispatch (GCD) calls and associates the current thread identity with the dispatched tasks.</span></span> <span data-ttu-id="479af-546">Wenn die Aufgaben abgeschlossen sind, ändert das SDK die Threadidentität vorübergehend in die den Aufgaben zugeordnete Identität, schließt die Aufgaben ab und stellt die ursprüngliche Threadidentität wieder her.</span><span class="sxs-lookup"><span data-stu-id="479af-546">When the tasks are finished, the SDK temporarily changes the thread identity to the identity associated with the tasks, finishes the tasks, then restores the original thread identity.</span></span>


<span data-ttu-id="479af-547">Da `NSOperationQueue` auf GCD basiert, wird `NSOperations` mit der Identität des Threads zu dem Zeitpunkt ausgeführt, als die Aufgaben zur `NSOperationQueue` hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="479af-547">Because `NSOperationQueue` is built on top of GCD, `NSOperations` will run on the identity of the thread at the time the tasks are added to `NSOperationQueue`.</span></span> <span data-ttu-id="479af-548">`NSOperations` oder direkt über GCD versendete Funktionen können die aktuelle Threadidentität ebenfalls bei ihrer Ausführung ändern.</span><span class="sxs-lookup"><span data-stu-id="479af-548">`NSOperations` or functions dispatched directly through GCD can also change the current thread identity as they are running.</span></span> <span data-ttu-id="479af-549">Diese Identität überschreibt die vom sendenden Thread geerbte Identität.</span><span class="sxs-lookup"><span data-stu-id="479af-549">This identity will override the identity inherited from the dispatching thread.</span></span>

### <a name="file-owner"></a><span data-ttu-id="479af-550">Dateibesitzer</span><span class="sxs-lookup"><span data-stu-id="479af-550">File owner</span></span>

<span data-ttu-id="479af-551">Das SDK verfolgt die Identitäten der lokalen Dateibesitzer und wendet Richtlinien entsprechend an.</span><span class="sxs-lookup"><span data-stu-id="479af-551">The SDK tracks the identities of local file owners and applies policies accordingly.</span></span> <span data-ttu-id="479af-552">Ein Dateibesitzer wird beim Erstellen einer Datei oder beim Öffnen einer Datei im Kürzungsmodus (truncate mode) eingerichtet.</span><span class="sxs-lookup"><span data-stu-id="479af-552">A file owner is established when a file is created or when a file is opened in truncate mode.</span></span> <span data-ttu-id="479af-553">Der Besitzer wird auf die effektive Identität für Dateiaufgaben des Threads festgelegt, der die Aufgabe ausführt.</span><span class="sxs-lookup"><span data-stu-id="479af-553">The owner is set to the effective file task identity of the thread that's performing the task.</span></span>

<span data-ttu-id="479af-554">Alternativ können Apps die Identität des Dateibesitzers mithilfe von `IntuneMAMFilePolicyManager` explizit festlegen.</span><span class="sxs-lookup"><span data-stu-id="479af-554">Alternatively, apps can set the file owner identity explicitly by using `IntuneMAMFilePolicyManager`.</span></span> <span data-ttu-id="479af-555">Apps können `IntuneMAMFilePolicyManager` verwenden, um den Dateibesitzer abzurufen und die Benutzeroberflächenidentität festzulegen, bevor der Dateiinhalt angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="479af-555">Apps can use `IntuneMAMFilePolicyManager` to retrieve the file owner and set the UI identity before showing the file contents.</span></span>

### <a name="shared-data"></a><span data-ttu-id="479af-556">Geteilte Daten</span><span class="sxs-lookup"><span data-stu-id="479af-556">Shared data</span></span>

<span data-ttu-id="479af-557">Wenn die App Dateien erstellt, die Daten von verwalteten und nicht verwalteten Benutzern enthalten, ist es ihre Aufgabe, die Daten der verwalteten Benutzer zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="479af-557">If the app creates files that have data from both managed and unmanaged users, the app is responsible for encrypting the managed user’s data.</span></span> <span data-ttu-id="479af-558">Sie können Daten mithilfe der `protect`- und `unprotect`-APIs in `IntuneMAMDataProtectionManager` verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="479af-558">You can encrypt data by using the `protect` and `unprotect` APIs in `IntuneMAMDataProtectionManager`.</span></span>

<span data-ttu-id="479af-559">Die `protect`-Methode akzeptiert eine Identität, bei der es sich um einen verwalteten oder nicht verwalteten Benutzer handeln kann.</span><span class="sxs-lookup"><span data-stu-id="479af-559">The `protect` method accepts an identity that can be a managed or unmanaged user.</span></span> <span data-ttu-id="479af-560">Wenn der Benutzer verwaltet ist, werden die Daten verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="479af-560">If the user is managed, the data will be encrypted.</span></span> <span data-ttu-id="479af-561">Wenn es sich um einen nicht verwalteten Benutzer handelt, wird den Daten ein Header hinzugefügt, der die Identität verschlüsselt, die Daten selbst werden jedoch nicht verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="479af-561">If the user is unmanaged, a header will be added to the data that's encoding the identity, but the data will not be encrypted.</span></span> <span data-ttu-id="479af-562">Sie können die `protectionInfo`-Methode verwenden, um den Besitzer der Daten abzurufen.</span><span class="sxs-lookup"><span data-stu-id="479af-562">You can use the `protectionInfo` method to retrieve the data’s owner.</span></span>

### <a name="share-extensions"></a><span data-ttu-id="479af-563">Freigabeerweiterungen</span><span class="sxs-lookup"><span data-stu-id="479af-563">Share extensions</span></span>

<span data-ttu-id="479af-564">Wenn die App eine Freigabeerweiterungen enthält, kann der Besitzer des freigegebenen Elements mithilfe der `protectionInfoForItemProvider`-Methode in `IntuneMAMDataProtectionManager` abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="479af-564">If the app has a share extension, the owner of the item being shared can be retrieved through the  `protectionInfoForItemProvider` method in `IntuneMAMDataProtectionManager`.</span></span> <span data-ttu-id="479af-565">Wenn es sich bei dem freigegebenen Element um eine Datei handelt, legt das SDK den Dateibesitzer fest.</span><span class="sxs-lookup"><span data-stu-id="479af-565">If the shared item is a file, the SDK will handle setting the file owner.</span></span> <span data-ttu-id="479af-566">Wenn es sich bei dem freigegebenen Element um Daten handelt, muss die App den Besitzer der Datei festlegen, wenn diese Daten in einer Datei gespeichert werden, und die `setUIPolicyIdentity`-API aufrufen, bevor die Daten in der Benutzeroberfläche angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-566">If the shared item is data, the app is responsible for setting the file owner if this data is persisted to a file, and for calling the `setUIPolicyIdentity` API before showing this data in the UI.</span></span>

### <a name="turning-on-multi-identity"></a><span data-ttu-id="479af-567">Aktivieren der Unterstützung für mehrere Identitäten</span><span class="sxs-lookup"><span data-stu-id="479af-567">Turning on multi-identity</span></span>

<span data-ttu-id="479af-568">Standardmäßig werden Apps als Einzelidentitäts-Apps betrachtet.</span><span class="sxs-lookup"><span data-stu-id="479af-568">By default, apps are considered single identity.</span></span> <span data-ttu-id="479af-569">Das SDK legt die Prozessidentität auf den registrierten Benutzer fest.</span><span class="sxs-lookup"><span data-stu-id="479af-569">The SDK sets the process identity to the enrolled user.</span></span> <span data-ttu-id="479af-570">Um die Unterstützung für mehrere Identitäten zu aktivieren, fügen Sie dem Wörterbuch „IntuneMAMSettings“ in der Datei „Info.plist“ der App eine boolesche Einstellung mit dem Namen `MultiIdentity` und dem Wert „YES“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-570">To enable multi-identity support, add a Boolean setting with the name `MultiIdentity` and a value of YES to the IntuneMAMSettings dictionary in the app's Info.plist file.</span></span>

> [!NOTE]
> <span data-ttu-id="479af-571">Wenn die Unterstützung für mehrere Identitäten aktiviert ist, werden die Prozessidentität, die Benutzeroberflächenidentität und die Threadidentitäten auf „nil“ festgelegt.</span><span class="sxs-lookup"><span data-stu-id="479af-571">When multi-identity is enabled, the process identity, UI identity, and thread identities are set to nil.</span></span> <span data-ttu-id="479af-572">Es ist Aufgabe der App, die entsprechenden Einstellungen vorzunehmen.</span><span class="sxs-lookup"><span data-stu-id="479af-572">The app is responsible for setting them appropriately.</span></span>

### <a name="switching-identities"></a><span data-ttu-id="479af-573">Wechseln von Identitäten</span><span class="sxs-lookup"><span data-stu-id="479af-573">Switching identities</span></span>

* <span data-ttu-id="479af-574">**Von der App eingeleiteter Identitätswechsel**:</span><span class="sxs-lookup"><span data-stu-id="479af-574">**App-initiated identity switch**:</span></span>

    <span data-ttu-id="479af-575">Beim Starten werden mehrere Identitäten als unter einem unbekannten, nicht verwalteten Konto angesehen.</span><span class="sxs-lookup"><span data-stu-id="479af-575">At launch, multi-identity apps are considered to be running under an unknown, unmanaged account.</span></span> <span data-ttu-id="479af-576">Die Benutzeroberfläche für einen bedingten Start wird nicht ausgeführt, und es werden keine Richtlinien auf die App angewendet.</span><span class="sxs-lookup"><span data-stu-id="479af-576">The conditional launch UI will not run, and no policies will be enforced on the app.</span></span> <span data-ttu-id="479af-577">Die App muss das SDK bei jedem beabsichtigten Wechsel der Identität benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="479af-577">The app is responsible for notifying the SDK whenever the identity should be changed.</span></span> <span data-ttu-id="479af-578">Normalerweise geschieht das, wenn die App im Begriff ist, Daten für ein bestimmtes Benutzerkonto anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="479af-578">Typically, this will happen whenever the app is about to show data for a specific user account.</span></span>

    <span data-ttu-id="479af-579">Ein Beispiel dafür ist, wenn der Benutzer versucht, ein Dokument, ein Postfach oder eine Registerkarte in einem Notizbuch zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="479af-579">An example is when the user attempts to open a document, a mailbox, or a tab in a notebook.</span></span> <span data-ttu-id="479af-580">Die App muss das SDK informieren, bevor diese Datei, dieses Postfach oder diese Registerkarte tatsächlich geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="479af-580">The app needs to notify the SDK before the file, mailbox, or tab is actually opened.</span></span> <span data-ttu-id="479af-581">Dies erfolgt mithilfe der `setUIPolicyIdentity`-API in `IntuneMAMPolicyManager`.</span><span class="sxs-lookup"><span data-stu-id="479af-581">This is done through the `setUIPolicyIdentity` API in `IntuneMAMPolicyManager`.</span></span> <span data-ttu-id="479af-582">Diese API sollte aufgerufen werden, unabhängig davon, ob der Benutzer verwaltet ist.</span><span class="sxs-lookup"><span data-stu-id="479af-582">This API should be called whether or not the user is managed.</span></span> <span data-ttu-id="479af-583">Wenn der Benutzer verwaltet ist, führt das SDK die Prüfungen für den bedingten Start aus (z. B. Jailbreakerkennung, PIN und Authentifizierung).</span><span class="sxs-lookup"><span data-stu-id="479af-583">If the user is managed, the SDK will perform the conditional launch checks, like jailbreak detection, PIN, and authentication.</span></span>

    <span data-ttu-id="479af-584">Das Ergebnis des Identitätswechsels wird asynchron mithilfe eines Abschlusshandlers an die App zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="479af-584">The result of the identity switch is returned to the app asynchronously through a completion handler.</span></span> <span data-ttu-id="479af-585">Die App sollte mit dem Öffnen von Dokument, Postfach oder Registerkarte solange warten, bis ein Ergebniscode für den Erfolg zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="479af-585">The app should postpone opening the document, mailbox, or tab until a success result code is returned.</span></span> <span data-ttu-id="479af-586">Bei einem Fehler beim Identitätswechsel sollte die App die Aufgabe abbrechen.</span><span class="sxs-lookup"><span data-stu-id="479af-586">If the identity switch failed, the app should cancel the task.</span></span>

* <span data-ttu-id="479af-587">**Vom SDK initiierter Wechsel der Identität**:</span><span class="sxs-lookup"><span data-stu-id="479af-587">**SDK-initiated identity switch**:</span></span>

    <span data-ttu-id="479af-588">Manchmal muss das SDK die App bitten, zu einer bestimmten Identität zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="479af-588">Sometimes, the SDK needs to ask the app to switch to a specific identity.</span></span> <span data-ttu-id="479af-589">Apps mit mehreren Identitäten müssen die `identitySwitchRequired`-Methode in `IntuneMAMPolicyDelegate` implementieren, um dieser Aufforderung zu folgen.</span><span class="sxs-lookup"><span data-stu-id="479af-589">Multi-identity apps must implement the `identitySwitchRequired` method in `IntuneMAMPolicyDelegate` to handle this request.</span></span>

    <span data-ttu-id="479af-590">Wenn die App beim Aufruf der Methode imstande ist, die Anforderung des Wechselns zu einer angegebenen Identität auszuführen, sollte sie `IntuneMAMAddIdentityResultSuccess` im Abschlusshandler übergeben.</span><span class="sxs-lookup"><span data-stu-id="479af-590">When this method is called, if the app can handle the request to switch to the specified identity, it should pass `IntuneMAMAddIdentityResultSuccess` into the completion handler.</span></span> <span data-ttu-id="479af-591">Wenn sie den Identitätswechsel nicht vornehmen kann, sollte die App `IntuneMAMAddIdentityResultFailed` im Abschlusshandler übergeben.</span><span class="sxs-lookup"><span data-stu-id="479af-591">If it can't handle switching the identity, the app should pass `IntuneMAMAddIdentityResultFailed` into the completion handler.</span></span>

    <span data-ttu-id="479af-592">Als Reaktion auf diesen Aufruf muss die App nicht `setUIPolicyIdentity` aufrufen.</span><span class="sxs-lookup"><span data-stu-id="479af-592">The app does not have to call `setUIPolicyIdentity` in response to this call.</span></span> <span data-ttu-id="479af-593">Wenn das SDK bei der App den Wechsel zu einem nicht verwalteten Benutzerkonto anfordern muss, wird im Aufruf `identitySwitchRequired` eine leere Zeichenfolge übergeben.</span><span class="sxs-lookup"><span data-stu-id="479af-593">If the SDK needs the app to switch to an unmanaged user account, the empty string will be passed into the `identitySwitchRequired` call.</span></span>

* <span data-ttu-id="479af-594">**Selektives Zurücksetzen**:</span><span class="sxs-lookup"><span data-stu-id="479af-594">**Selective wipe**:</span></span>

    <span data-ttu-id="479af-595">Wenn die App selektiv zurückgesetzt wird, ruft das SDK die `wipeDataForAccount`-Methode in `IntuneMAMPolicyDelegate` auf.</span><span class="sxs-lookup"><span data-stu-id="479af-595">When the app is selectively wiped, the SDK will call the `wipeDataForAccount` method in `IntuneMAMPolicyDelegate`.</span></span> <span data-ttu-id="479af-596">Es ist Aufgabe der App, das Konto des angegebenen Benutzers und alle ihm zugeordneten Daten zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="479af-596">The app is responsible for removing the specified user’s account and any data associated with it.</span></span> <span data-ttu-id="479af-597">Das SDK ist imstande, alle Dateien im Besitz des Benutzer zu entfernen, und führt dies durch, wenn von der App auf den `wipeDataForAccount`-Aufruf „FALSE“ zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="479af-597">The SDK is capable of removing all files owned by the user and will do so if the app returns FALSE from the `wipeDataForAccount` call.</span></span>

    <span data-ttu-id="479af-598">Beachten Sie, dass diese Methode aus einem Hintergrundthread aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="479af-598">Note that this method is called from a background thread.</span></span> <span data-ttu-id="479af-599">Die App sollte keinen Wert zurückgeben, bevor alle Daten für den Benutzer entfernt wurden (mit Ausnahme der Dateien, wenn die App „FALSE“ zurückgibt).</span><span class="sxs-lookup"><span data-stu-id="479af-599">The app should not return a value until all data for the user has been removed (with the exception of files if the app returns FALSE).</span></span>

## <a name="test-app-protection-policy-settings-in-xcode"></a><span data-ttu-id="479af-600">Testen der Einstellungen für die App-Schutzrichtlinie in Xcode</span><span class="sxs-lookup"><span data-stu-id="479af-600">Test app protection policy settings in Xcode</span></span>

<span data-ttu-id="479af-601">Bevor Sie Ihre Intune-fähige App in der Produktion testen, können Sie in Xcode eine Settings.bundle-Datei verwenden.</span><span class="sxs-lookup"><span data-stu-id="479af-601">Before you manually test your Intune-enlightened app in production, you can use a Settings.bundle file while in Xcode.</span></span> <span data-ttu-id="479af-602">Dies ermöglicht Ihnen die Festlegung von App-Schutzrichtlinien zum Testen, ohne dass eine Verbindung mit Intune erforderlich wird.</span><span class="sxs-lookup"><span data-stu-id="479af-602">This will let you set app protection policies for testing without requiring a connection to Intune.</span></span>

### <a name="enable-policy-testing"></a><span data-ttu-id="479af-603">Aktivieren des Testens von Richtlinien</span><span class="sxs-lookup"><span data-stu-id="479af-603">Enable policy testing</span></span>

<span data-ttu-id="479af-604">Gehen Sie folgendermaßen vor, um das Testen von Richtlinien in Xcode zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="479af-604">Follow the steps below to enable policy testing in Xcode:</span></span>

1. <span data-ttu-id="479af-605">Vergewissern Sie sich, dass Sie mit einem Debugbuild arbeiten.</span><span class="sxs-lookup"><span data-stu-id="479af-605">Make sure to be in a debug build.</span></span> <span data-ttu-id="479af-606">Fügen Sie die Datei „settings.bundle“ hinzu, indem Sie mit der rechten Maustaste auf den Ordner oberster Ebene in Ihrem Projekt klicken.</span><span class="sxs-lookup"><span data-stu-id="479af-606">Add a Settings.bundle file by right-clicking the top-level folder in your project.</span></span> <span data-ttu-id="479af-607">Wählen Sie im Menü **Add** > **New File** (Hinzufügen > Neue Datei).</span><span class="sxs-lookup"><span data-stu-id="479af-607">Choose **Add** > **New File** from the menu.</span></span> <span data-ttu-id="479af-608">Wählen Sie unter **Resources** die Vorlage **Settings Bundle** aus.</span><span class="sxs-lookup"><span data-stu-id="479af-608">Under **Resources**, choose the **Settings Bundle** template.</span></span>

2.  <span data-ttu-id="479af-609">Kopieren Sie den folgenden Block für den Debugbuild in die Settings.bundle/**Root.plist**-Datei:</span><span class="sxs-lookup"><span data-stu-id="479af-609">Copy the following block to the Settings.bundle/**Root.plist** file for the debug build:</span></span>
    ```xml
    <key>PreferenceSpecifiers</key>
    <array>
        <dict>
            <key>Type</key>
            <string>PSChildPaneSpecifier</string>
            <key>Title</key>
            <string>MDM Debug Settings</string>
            <key>Key</key>
            <string>MAMDebugSettings</string>
            <key>File</key>
            <string>MAMDebugSettings</string>
        </dict>
    </array>
    ```

3. <span data-ttu-id="479af-610">Fügen Sie im **IntuneMAMSettings**-Wörterbuch in der „Info.plist“ der App einen booleschen Wert namens DebugSettingsEnabled hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-610">In the **IntuneMAMSettings** dictionary in the app's Info.plist, add a boolean called "DebugSettingsEnabled."</span></span> <span data-ttu-id="479af-611">Legen Sie für DebugSettingsEnabled den Wert „YES“ fest.</span><span class="sxs-lookup"><span data-stu-id="479af-611">Set the value of DebugSettingsEnabled to "YES."</span></span>



### <a name="app-protection-policy-settings"></a><span data-ttu-id="479af-612">Einstellungen für die App-Schutzrichtlinie</span><span class="sxs-lookup"><span data-stu-id="479af-612">App protection policy settings</span></span>

<span data-ttu-id="479af-613">In der folgenden Tabelle werden die Einstellungen der App-Schutzrichtlinie beschrieben, die Sie mit MAMDebugSettings.plist testen können.</span><span class="sxs-lookup"><span data-stu-id="479af-613">The table below describes the app protection policy settings that you can test using MAMDebugSettings.plist.</span></span> <span data-ttu-id="479af-614">Um eine Einstellung zu aktivieren, fügen Sie sie MAMDebugSettings.plist hinzu.</span><span class="sxs-lookup"><span data-stu-id="479af-614">To turn on a setting, add it in MAMDebugSettings.plist.</span></span>


|     <span data-ttu-id="479af-615">Name der Richtlinieneinstellung</span><span class="sxs-lookup"><span data-stu-id="479af-615">Policy setting name</span></span>     |                                                                                <span data-ttu-id="479af-616">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="479af-616">Description</span></span>                                                                                |      <span data-ttu-id="479af-617">Mögliche Werte</span><span class="sxs-lookup"><span data-stu-id="479af-617">Possible values</span></span>       |
|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
| <span data-ttu-id="479af-618">AccessRecheckOfflineTimeout</span><span class="sxs-lookup"><span data-stu-id="479af-618">AccessRecheckOfflineTimeout</span></span> |                <span data-ttu-id="479af-619">Der Zeitraum in Minuten, für den die App offline sein kann, bevor Intune das Starten der App oder ihre Fortsetzung blockiert, wenn die Authentifizierung aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="479af-619">The length of time in minutes the app can be offline before Intune blocks the app from launching or resuming if authentication is enabled.</span></span>                 | <span data-ttu-id="479af-620">Beliebige ganze Zahl größer als 0</span><span class="sxs-lookup"><span data-stu-id="479af-620">Any integer greater than 0</span></span> |
| <span data-ttu-id="479af-621">AccessRecheckOnlineTimeout</span><span class="sxs-lookup"><span data-stu-id="479af-621">AccessRecheckOnlineTimeout</span></span>  | <span data-ttu-id="479af-622">Der Zeitraum in Minuten, für den die App ausgeführt werden kann, bevor der Benutzer beim Starten oder Fortsetzen zur Eingabe der PIN oder zur Authentifizierung aufgefordert wird (wenn Authentifizierung oder PIN für den Zugriff aktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="479af-622">The length of time in minutes the app can run before the user is prompted for PIN or authentication at launch or resume (if authentication or PIN for access is enabled).</span></span> | <span data-ttu-id="479af-623">Beliebige ganze Zahl größer als 0</span><span class="sxs-lookup"><span data-stu-id="479af-623">Any integer greater than 0</span></span> |
|     <span data-ttu-id="479af-624">AppSharingFromLevel</span><span class="sxs-lookup"><span data-stu-id="479af-624">AppSharingFromLevel</span></span>     |                                                            <span data-ttu-id="479af-625">Gibt an, von welchen Apps diese App Daten akzeptieren kann.</span><span class="sxs-lookup"><span data-stu-id="479af-625">Specifies which apps this app can accept data from.</span></span>                                                            |            <span data-ttu-id="479af-626">0 =</span><span class="sxs-lookup"><span data-stu-id="479af-626">0 =</span></span>             |

## <a name="ios-best-practices"></a><span data-ttu-id="479af-627">Empfohlene Methoden für iOS</span><span class="sxs-lookup"><span data-stu-id="479af-627">iOS best practices</span></span>

<span data-ttu-id="479af-628">Hier finden Sie empfohlene und bewährte Methoden für die Entwicklung für iOS:</span><span class="sxs-lookup"><span data-stu-id="479af-628">Here are recommended best practices for developing for iOS:</span></span>

* <span data-ttu-id="479af-629">Beim iOS-Dateisystem werden Groß-/Kleinschreibung berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="479af-629">The iOS file system is case-sensitive.</span></span> <span data-ttu-id="479af-630">Vergewissern Sie sich, dass Dateinamen wie `libIntuneMAM.a` und `IntuneMAMResources.bundle` die richtige Groß-/Kleinschreibung aufweisen.</span><span class="sxs-lookup"><span data-stu-id="479af-630">Ensure that the case is correct for file names like `libIntuneMAM.a` and `IntuneMAMResources.bundle`.</span></span>

* <span data-ttu-id="479af-631">Wenn Xcode Probleme beim Suchen nach `libIntuneMAM.a` hat, können Sie das Problem beheben, indem Sie den Pfad zu dieser Bibliothek den Linkersuchpfaden hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="479af-631">If Xcode has trouble finding `libIntuneMAM.a`, you can fix the problem by adding the path to this library into the linker search paths.</span></span>

## <a name="faqs"></a><span data-ttu-id="479af-632">Häufig gestellte Fragen</span><span class="sxs-lookup"><span data-stu-id="479af-632">FAQs</span></span>


<span data-ttu-id="479af-633">**Sind alle APIs über natives Swift oder über gleichzeitiges Objective-C und Swift zu erreichen?**</span><span class="sxs-lookup"><span data-stu-id="479af-633">**Are all of the APIs addressable through native Swift or the Objective-C and Swift interoperability?**</span></span>

<span data-ttu-id="479af-634">Die Intune App SDK-APIs arbeiten ausschließlich in der Objective-C-Programmiersprache und unterstützen nicht die **native** Sprache Swift.</span><span class="sxs-lookup"><span data-stu-id="479af-634">The Intune App SDK APIs are in Objective-C only and do not support **native** Swift.</span></span> <span data-ttu-id="479af-635">Swift-Interoperabilität mit Objective-C ist erforderlich.</span><span class="sxs-lookup"><span data-stu-id="479af-635">Swift interoperability with Objective-C is required.</span></span>


<span data-ttu-id="479af-636">**Müssen alle Benutzer meiner Anwendung beim APP-WE-Dienst registriert werden?**</span><span class="sxs-lookup"><span data-stu-id="479af-636">**Do all users of my application need to be registered with the APP-WE service?**</span></span>

<span data-ttu-id="479af-637">Nein.</span><span class="sxs-lookup"><span data-stu-id="479af-637">No.</span></span> <span data-ttu-id="479af-638">Nur Arbeits-, Schul- oder Unikonten sollten beim Intune App SDK registriert werden.</span><span class="sxs-lookup"><span data-stu-id="479af-638">In fact, only work or school accounts should be registered with the Intune App SDK.</span></span> <span data-ttu-id="479af-639">Die Apps sind dafür zuständig, zu bestimmen, ob ein Konto in einem Arbeits-, Schul- oder Unikontext verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="479af-639">Apps are responsible for determining if an account is used in a work or school context.</span></span>   

<span data-ttu-id="479af-640">**Was ist mit Benutzern, die bereits bei der Anwendung angemeldet sind? Müssen sie registriert sein?**</span><span class="sxs-lookup"><span data-stu-id="479af-640">**What about users that have already signed in to the application? Do they need to be enrolled?**</span></span>

<span data-ttu-id="479af-641">Es ist Aufgabe der Anwendung, Benutzer zu registrieren, nachdem sie erfolgreich authentifiziert wurden.</span><span class="sxs-lookup"><span data-stu-id="479af-641">The application is responsible for enrolling users after they have been successfully authenticated.</span></span> <span data-ttu-id="479af-642">Die Anwendung muss außerdem alle vorhandenen Konten registrieren, die bereits vorhanden waren, bevor die Anwendung über MAM-Funktionalität ohne MDM-Registrierung verfügte.</span><span class="sxs-lookup"><span data-stu-id="479af-642">The application is also responsible for enrolling any existing accounts that might have been present before the application had MDM-less MAM functionality.</span></span>   

<span data-ttu-id="479af-643">Dies kann die App mit der `registeredAccounts:`-Methode machen.</span><span class="sxs-lookup"><span data-stu-id="479af-643">To do this, the application should make use of the `registeredAccounts:` method.</span></span> <span data-ttu-id="479af-644">Diese Methode gibt ein NSDictionary zurück, das sämtliche beim Intune MAM-Dienst registrierten Konten enthält.</span><span class="sxs-lookup"><span data-stu-id="479af-644">This method returns an NSDictionary that has all of the accounts registered into the Intune MAM service.</span></span> <span data-ttu-id="479af-645">Wenn in der Anwendung bestehende Konten in der Liste nicht vorhanden sind, sollte die Anwendung diese Konten mithilfe von `registerAndEnrollAccount:` registrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-645">If any existing accounts in the application are not in the list, the application should register and enroll those accounts via `registerAndEnrollAccount:`.</span></span>

<span data-ttu-id="479af-646">**Wie oft wiederholt das SDK Registrierungsversuche?**</span><span class="sxs-lookup"><span data-stu-id="479af-646">**How often does the SDK retry enrollments?**</span></span>

<span data-ttu-id="479af-647">Das SDK wiederholt alle zuvor mit einem Fehler abgebrochenen Registrierungsversuche in einem 24-Stunden-Intervall.</span><span class="sxs-lookup"><span data-stu-id="479af-647">The SDK will automatically retry all previously failed enrollments on a 24-hour interval.</span></span> <span data-ttu-id="479af-648">Das SDK geht so vor, um sicherzustellen, dass ein Benutzer erfolgreich registriert wird und Richtlinien auf sein Konto angewendet werden, wenn die Organisation MAM erst nach der Anmeldung des Benutzers bei der Anwendung aktiviert hat.</span><span class="sxs-lookup"><span data-stu-id="479af-648">The SDK does this to ensure that if a user’s organization enabled MAM after the user signed in to the application, the user will successfully enroll and receive policies.</span></span>

<span data-ttu-id="479af-649">Das SDK stellt die Wiederholungsversuche ein, wenn es feststellt, dass ein Benutzer die Anwendung erfolgreich registriert hat.</span><span class="sxs-lookup"><span data-stu-id="479af-649">The SDK will stop retrying when it detects that a user has successfully enrolled the application.</span></span> <span data-ttu-id="479af-650">Dies hat den Grund, dass immer nur ein Benutzer eine Anwendung registrieren kann.</span><span class="sxs-lookup"><span data-stu-id="479af-650">This is because only one user can enroll an application at a particular time.</span></span> <span data-ttu-id="479af-651">Wenn die Registrierung des Benutzers aufgehoben wird, beginnen die Registrierungsversuche wieder mit dem gleichen 24-Stunden-Intervall.</span><span class="sxs-lookup"><span data-stu-id="479af-651">If the user is unenrolled, the retries will begin again on the same 24-hour interval.</span></span>

<span data-ttu-id="479af-652">**Warum muss die Registrierung des Benutzers aufgehoben werden?**</span><span class="sxs-lookup"><span data-stu-id="479af-652">**Why does the user need to be deregistered?**</span></span>

<span data-ttu-id="479af-653">Das SDK führt im Hintergrund in regelmäßigen Abständen die folgenden Aktionen aus:</span><span class="sxs-lookup"><span data-stu-id="479af-653">The SDK will take these actions in the background periodically:</span></span>

 - <span data-ttu-id="479af-654">Wenn die App noch nicht registriert wurde, versucht es, alle registrierten Konten in einem Abstand von 24 Stunden zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="479af-654">If the application is not yet enrolled, it will try to enroll all registered accounts every 24 hours.</span></span>
 - <span data-ttu-id="479af-655">Wenn die Anwendung registriert ist, prüft das SDK alle 8 Stunden auf App-Schutzrichtlinienaktualisierungen.</span><span class="sxs-lookup"><span data-stu-id="479af-655">If the application is enrolled, the SDK will check for app protection policy updates every 8 hours.</span></span>

<span data-ttu-id="479af-656">Bei der Aufhebung der Registrierung eines Benutzers wird das SDK darüber informiert, dass der Benutzer die App nicht mehr verwendet, und dass alle regelmäßigen Aktionen für dieses Benutzerkonto beendet werden können.</span><span class="sxs-lookup"><span data-stu-id="479af-656">Deregistering a user notifies the SDK that the user will no longer use the application, and the SDK can stop any of the periodic events for that user account.</span></span> <span data-ttu-id="479af-657">Dadurch werden außerdem das Aufheben der Registrierung und ggf. das selektive Zurücksetzen ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="479af-657">It also triggers an app unenroll and selective wipe if necessary.</span></span>

<span data-ttu-id="479af-658">**Soll das doWipe-Flag in der deregister-Methode auf „YES“ festgelegt werden?**</span><span class="sxs-lookup"><span data-stu-id="479af-658">**Should I set the doWipe flag to true in the deregister method?**</span></span>

<span data-ttu-id="479af-659">Diese Methode sollte aufgerufen werden, bevor der Benutzer aus der App abgemeldet wird.</span><span class="sxs-lookup"><span data-stu-id="479af-659">This method should be called before the user is signed out of the application.</span></span>  <span data-ttu-id="479af-660">Wenn die Daten des Benutzers im Rahmen der Abmeldung aus der Anwendung gelöscht werden, kann `doWipe` auf „false“ festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="479af-660">If the user’s data is deleted from the application as part of the sign-out, `doWipe` can be set to false.</span></span> <span data-ttu-id="479af-661">Wenn die Anwendung die Daten des Benutzers jedoch nicht entfernt, sollte `doWipe` auf „true“ festgelegt werden, damit das SDK die Daten löschen kann.</span><span class="sxs-lookup"><span data-stu-id="479af-661">But if the application does not remove the user’s data, `doWipe` should be set to true so that the SDK can delete the data.</span></span>

<span data-ttu-id="479af-662">**Gibt es andere Möglichkeiten zum Aufheben der Registrierung einer Anwendung?**</span><span class="sxs-lookup"><span data-stu-id="479af-662">**Are there any other ways that an application can be un-enrolled?**</span></span>

<span data-ttu-id="479af-663">Ja, der IT-Administrator kann einen Befehl zum selektiven Zurücksetzen an die Anwendung senden.</span><span class="sxs-lookup"><span data-stu-id="479af-663">Yes, the IT admin can send a selective wipe command to the application.</span></span> <span data-ttu-id="479af-664">Dadurch wird die Registrierung aufgehoben und der Benutzer abgemeldet, und die Daten des Benutzers werden zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="479af-664">This will deregister and unenroll the user, and it will wipe the user’s data.</span></span> <span data-ttu-id="479af-665">Das SDK wickelt dieses Szenario automatisch ab und sendet mithilfe der Stellvertretermethode zum Aufheben der Registrierung eine Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="479af-665">The SDK automatically handles this scenario and sends a notification via the unenroll delegate method.</span></span>



## <a name="submit-your-app-to-the-app-store"></a><span data-ttu-id="479af-666">Übermitteln Ihrer App an den App Store</span><span class="sxs-lookup"><span data-stu-id="479af-666">Submit your app to the App Store</span></span>

<span data-ttu-id="479af-667">Sowohl die statische Bibliothek als auf Frameworkbuilds des Intune App SDK sind universelle Binärdateien.</span><span class="sxs-lookup"><span data-stu-id="479af-667">Both the static library and framework builds of the Intune App SDK are universal binaries.</span></span> <span data-ttu-id="479af-668">Das bedeutet, dass sie Code für alle Geräte- und Simulatorarchitekturen enthalten.</span><span class="sxs-lookup"><span data-stu-id="479af-668">This means they have code for all device and simulator architectures.</span></span> <span data-ttu-id="479af-669">Apple lehnt für den App Store eingereichte Apps ab, wenn sie Simulatorcode enthalten.</span><span class="sxs-lookup"><span data-stu-id="479af-669">Apple will reject apps submitted to the App Store if they have simulator code.</span></span> <span data-ttu-id="479af-670">Wenn mit der statischen Bibliothek für Builds nur für Geräte kompiliert wird, entfernt der Linker automatisch den Simulatorcode.</span><span class="sxs-lookup"><span data-stu-id="479af-670">When compiling against the static library for device-only builds, the linker will automatically strip out the simulator code.</span></span> <span data-ttu-id="479af-671">Gehen Sie folgendermaßen vor, um sicherzustellen, dass der gesamte Simulatorcode entfernt wird, bevor Sie Ihre App in den App Store hochladen.</span><span class="sxs-lookup"><span data-stu-id="479af-671">Follow the steps below to ensure all simulator code is removed before you upload your app to the App Store.</span></span>

1. <span data-ttu-id="479af-672">Stellen Sie sicher, dass sich `IntuneMAM.framework` auf dem Desktop befindet.</span><span class="sxs-lookup"><span data-stu-id="479af-672">Make sure `IntuneMAM.framework` is on your desktop.</span></span>

2. <span data-ttu-id="479af-673">Führen Sie diese Befehle aus:</span><span class="sxs-lookup"><span data-stu-id="479af-673">Run these commands:</span></span>

    ```bash
    lipo ~/Desktop/IntuneMAM.framework/IntuneMAM -remove i386 -remove x86_64 -output ~/Desktop/IntuneMAM.device_only
    ```

    ```bash
    cp ~/Desktop/IntuneMAM.device_only ~/Desktop/IntuneMAM.framework/IntuneMAM
    ```
    <span data-ttu-id="479af-674">Der erste Befehl entfernt die Simulatorarchitekturen aus der DYLIB-Datei des Frameworks.</span><span class="sxs-lookup"><span data-stu-id="479af-674">The first command strips the simulator architectures from the framework's DYLIB file.</span></span> <span data-ttu-id="479af-675">Der zweite Befehl kopiert die nur für Geräte zuständige DYLIB-Datei wieder in das Frameworkverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="479af-675">The second command copies the device-only DYLIB file back into the framework directory.</span></span>
